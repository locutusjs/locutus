<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Returns a connection to a database</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.db2-conn-errormsg.html">db2_conn_errormsg</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.db2-cursor-type.html">db2_cursor_type</a></div>
 <div class="up"><a href="ref.ibm-db2.html">IBM DB2 Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.db2-connect" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">db2_connect</h1>
  <p class="verinfo">(PECL ibm_db2:1.0-1.6.2)</p><p class="refpurpose"><span class="refname">db2_connect</span> &mdash; <span class="dc-title">
   Returns a connection to a database
  </span></p>

 </div>
 <div class="refsect1 description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><b><b>db2_connect</b></b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$database</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$username</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$password</tt></span>
   [, <span class="methodparam"><span class="type">array</span> <tt class="parameter">$options</tt></span>
  ] )</div>


  <p class="para rdfs-comment">
   Creates a new connection to an IBM DB2 Universal Database, IBM Cloudscape,
   or Apache Derby database.
  </p>

 </div>

 <div class="refsect1 parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">database</tt></i>
</span>

     <dd>

      <p class="para">
       For a cataloged connection to a database, <i><tt class="parameter">database</tt></i>

       represents the database alias in the DB2 client catalog.
      </p>
      <p class="para">
       For an uncataloged connection to a database, 
       <i><tt class="parameter">database</tt></i>
 represents a complete connection
       string in the following format:
       <pre class="literallayout">DATABASE=<i><tt class="parameter">database</tt></i>
;HOSTNAME=<i><tt class="parameter">hostname</tt></i>
;PORT=<i><tt class="parameter">port</tt></i>
;PROTOCOL=TCPIP;UID=<i><tt class="parameter">username</tt></i>
;PWD=<i><tt class="parameter">password</tt></i>
;</pre>
       where the parameters represent the following values:
       <dl>

        <dt>

         <span class="term"><i><tt class="parameter">database</tt></i>
</span>

         <dd>

          <p class="para">
           The name of the database.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">hostname</tt></i>
</span>

         <dd>

          <p class="para">
           The hostname or IP address of the database server.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">port</tt></i>
</span>

         <dd>

          <p class="para">
           The TCP/IP port on which the database is listening for
           requests.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">username</tt></i>
</span>

         <dd>

          <p class="para">
           The username with which you are connecting to the
           database.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">password</tt></i>
</span>

         <dd>

          <p class="para">
           The password with which you are connecting to the database.
          </p>
         </dd>

        </dt>

       </dl>

      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">username</tt></i>
</span>

     <dd>

      <p class="para">
       The username with which you are connecting to the database.
      </p>
      <p class="para">
       For uncataloged connections, you must pass a <b><tt>NULL</tt></b> value or empty
       string.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">password</tt></i>
</span>

     <dd>

      <p class="para">
       The password with which you are connecting to the database.
      </p>
      <p class="para">
       For uncataloged connections, you must pass a <b><tt>NULL</tt></b> value or empty
       string.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">options</tt></i>
</span>

     <dd>

      <p class="para">
       An associative array of connection options that affect the behavior
       of the connection, where valid array keys include:
       <dl>

        <dt>

         <br /><span class="term"><i><tt class="parameter">autocommit</tt></i>
</span>

         <dd>

          <p class="para">
           Passing the <i>DB2_AUTOCOMMIT_ON</i> value turns
           autocommit on for this connection handle.
          </p>
          <p class="para">
           Passing the <i>DB2_AUTOCOMMIT_OFF</i> value turns
           autocommit off for this connection handle.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">DB2_ATTR_CASE</tt></i>
</span>

         <dd>

          <p class="para">
           Passing the <i>DB2_CASE_NATURAL</i> value specifies
           that column names are returned in natural case.
          </p>
          <p class="para">
           Passing the <i>DB2_CASE_LOWER</i> value specifies
           that column names are returned in lower case.
          </p>
          <p class="para">
           Passing the <i>DB2_CASE_UPPER</i> value specifies
           that column names are returned in upper case.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">CURSOR</tt></i>
</span>

         <dd>

          <p class="para">
           Passing the <i>DB2_FORWARD_ONLY</i> value specifies a
           forward-only cursor for a statement resource. This is the default
           cursor type and is supported on all database servers.
          </p>
          <p class="para">
           Passing the <i>DB2_SCROLLABLE</i> value specifies a
           scrollable cursor for a statement resource. This mode enables
           random access to rows in a result set, but currently is supported
           only by IBM DB2 Universal Database.
          </p>
         </dd>

        </dt>

       </dl>

      </p>
      <p class="para">
       The following new i5/OS options are available as of ibm_db2 version 1.5.1. 
       Note: prior versions of ibm_db2 do not support these new i5 options.
       <dl>

        <dt>

         <span class="term"><i><tt class="parameter">i5_lib</tt></i>
</span>

         <dd>

          <p class="para">
           A character value that indicates the default library that will be 
           used for resolving unqualified file references. This is not valid 
           if the connection is using system naming mode.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_naming</tt></i>
</span>

         <dd>

          <p class="para">
           <i>DB2_I5_NAMING_ON</i> value turns on DB2 UDB CLI iSeries 
           system naming mode. Files are qualified using the slash (/) delimiter. 
           Unqualified files are resolved using the library list for the job.
          </p>
          <p class="para">
           <i>DB2_I5_NAMING_OFF</i> value turns off DB2 UDB CLI default 
           naming mode, which is SQL naming. Files are qualified using the period (.) 
           delimiter. Unqualified files are resolved using either the default library 
           or the current user ID.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_commit</tt></i>
</span>

         <dd>

          <p class="para">
           The <i><tt class="parameter">i5_commit</tt></i>
 attribute should be set before the 
           <b>db2_connect()</b>. If the value is changed after the 
           connection has been established, and the connection is to a remote data 
           source, the change does not take effect until the next successful 
           <b>db2_connect()</b> for the connection handle.
          </p>
          <p class="para">
           Note: php.ini setting <i><tt class="parameter">ibm_db2.i5_allow_commit</tt></i>
==0 
           or <i>DB2_I5_TXN_NO_COMMIT</i> is the default, but may be 
           overridden with the <i><tt class="parameter">i5_commit</tt></i>
 option.
          </p>
          <p class="para">
           <i>DB2_I5_TXN_NO_COMMIT</i> - Commitment control is not used.
          </p>
          <p class="para">
           <i>DB2_I5_TXN_READ_UNCOMMITTED</i> - Dirty reads, nonrepeatable 
           reads, and phantoms are possible.
          </p>
          <p class="para">
           <i>DB2_I5_TXN_READ_COMMITTED</i> - Dirty reads are not possible. 
           Nonrepeatable reads, and phantoms are possible.
          </p>
          <p class="para">
           <i>DB2_I5_TXN_REPEATABLE_READ</i> - Dirty reads and nonrepeatable 
           reads are not possible. Phantoms are possible.
          </p>
          <p class="para">
           <i>DB2_I5_TXN_SERIALIZABLE</i> - Transactions are serializable. 
           Dirty reads, non-repeatable reads, and phantoms are not possible
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_query_optimize</tt></i>
</span>

         <dd>

          <p class="para">
            <i>DB2_FIRST_IO</i> All queries are optimized with the goal of 
            returning the first page of output as fast as possible. This goal works well 
            when the output is controlled by a user who is most likely to cancel the query 
            after viewing the first page of output data. Queries coded with an 
            OPTIMIZE FOR nnn ROWS clause honor the goal specified by the clause.
          </p>
          <p class="para">
           <i>DB2_ALL_IO</i> All queries are optimized with the goal of running 
           the entire query to completion in the shortest amount of elapsed time. This is a 
           good option when the output of a query is being written to a file or report, or 
           the interface is queuing the output data. Queries coded with an OPTIMIZE FOR nnn 
           ROWS clause honor the goal specified by the clause. This is the default.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_dbcs_alloc</tt></i>
</span>

         <dd>

          <p class="para">
           <i>DB2_I5_DBCS_ALLOC_ON</i> value turns on DB2 6X allocation scheme 
           for DBCS translation column size growth.
          </p>
          <p class="para">
           <i>DB2_I5_DBCS_ALLOC_OFF</i> value turns off DB2 6X allocation scheme 
           for DBCS translation column size growth. 
          </p>
          <p class="para">
           Note: php.ini setting <i><tt class="parameter">ibm_db2.i5_dbcs_alloc</tt></i>
==0 or 
           <i>DB2_I5_DBCS_ALLOC_OFF</i> is the default, but may be overridden 
           with the <i><tt class="parameter">i5_dbcs_alloc</tt></i>
 option.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_date_fmt</tt></i>
</span>

         <dd>

          <p class="para">
           <i>SQL_FMT_ISO</i> - The International Organization for Standardization 
           (ISO) date format yyyy-mm-dd is used. This is the default.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_USA</i> - The United States date format mm/dd/yyyy is used.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_EUR</i> - The European date format dd.mm.yyyy is used.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_JIS</i> - The Japanese Industrial Standard date format 
           yyyy-mm-dd is used. 
          </p>
          <p class="para">
           <i>DB2_I5_FMT_MDY</i> - The date format mm/dd/yyyy is used. 
          </p>
          <p class="para">
           <i>DB2_I5_FMT_DMY</i> - The date format dd/mm/yyyy is used.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_YMD</i> - The date format yy/mm/dd is used.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_JUL</i> - The Julian date format yy/ddd is used.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_JOB</i> - The job default is used.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_date_sep</tt></i>
</span>

         <dd>

          <p class="para">
           <i>DB2_I5_SEP_SLASH</i> - A slash ( / ) is used as the date separator. 
           This is the default.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_DASH</i> - A dash ( - ) is used as the date separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_PERIOD</i> - A period ( . ) is used as the date 
           separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_COMMA</i> - A comma ( , ) is used as the date separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_BLANK</i> - A blank is used as the date separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_JOB</i> - The job default is used
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_time_fmt</tt></i>
</span>

         <dd>

          <p class="para">
           <i>DB2_I5_FMT_ISO</i> - The International Organization for 
           Standardization (ISO) time format hh.mm.ss is used. This is the default.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_USA</i> - The United States time format 
           hh:mmxx is used, where xx is AM or PM.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_EUR</i> - The European time format hh.mm.ss 
           is used.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_JIS</i> - The Japanese Industrial Standard 
           time format hh:mm:ss is used.
          </p>
          <p class="para">
           <i>DB2_I5_FMT_HMS</i> - The hh:mm:ss format is used.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_time_sep</tt></i>
</span>

         <dd>

          <p class="para">
           <i>DB2_I5_SEP_COLON</i> - A colon ( : ) is used as the time 
           separator. This is the default.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_PERIOD</i> - A period ( . ) is used as the time 
           separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_COMMA</i> - A comma ( , ) is used as the time 
           separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_BLANK</i> - A blank is used as the time separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_JOB</i> - The job default is used.
          </p>
         </dd>

        </dt>

        <dt>

         <span class="term"><i><tt class="parameter">i5_decimal_sep</tt></i>
</span>

         <dd>

          <p class="para">
           <i>DB2_I5_SEP_PERIOD</i> - A period ( . ) is used as 
           the decimal separator. This is the default.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_COMMA</i> - A comma ( , ) is used as the 
           decimal separator.
          </p>
          <p class="para">
           <i>DB2_I5_SEP_JOB</i> - The job default is used.
          </p>
         </dd>

        </dt>

       </dl>

      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a connection handle resource if the connection attempt is
   successful. If the connection attempt fails, <b>db2_connect()</b>
   returns <b><tt>FALSE</tt></b>.
  </p>
 </div>


 <div class="refsect1 examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example">
    <p><b>Example #1 Creating a cataloged connection</b></p>
    <div class="example-contents"><p>
     Cataloged connections require you to have previously cataloged the target
     database through the DB2 Command Line Processor (CLP) or DB2
     Configuration Assistant.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$user&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Connection&nbsp;succeeded."</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db2_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br />}<br />else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Connection&nbsp;failed."</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Connection succeeded.
</pre></div>
    </pre></div>
   </div>
   <div class="example">
    <p><b>Example #2 Creating an uncataloged connection</b></p>
    <div class="example-contents"><p>
     An uncataloged connection enables you to dynamically connect to a
     database.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$user&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=TCPIP;UID=$user;PWD=$password;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Connection&nbsp;succeeded."</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db2_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br />}<br />else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Connection&nbsp;failed."</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Connection succeeded.
</pre></div>
    </pre></div>
   </div>
   <div class="example">
    <p><b>Example #3 Creating a connection with autocommit off by default</b></p>
    <div class="example-contents"><p>
     Passing an array of options to <b>db2_connect()</b> enables
     you to modify the default behavior of the connection handle.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$user&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'autocommit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Connection&nbsp;succeeded.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">db2_autocommit</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Autocommit&nbsp;is&nbsp;on.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Autocommit&nbsp;is&nbsp;off.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">db2_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br />}<br />else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Connection&nbsp;failed."</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
Connection succeeded.
Autocommit is off.
</pre></div>
    </pre></div>
   </div>
   <div class="example">
    <p><b>Example #4 i5/OS best performance</b></p>
    <div class="example-contents"><p>
     To achieve best performance for your i5/OS ibm_db2 1.5.1 PHP application 
     use the default host, userid, and password for your 
     <b>db2_connect()</b>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;$library&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"ADC"</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$i5&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"i5_lib"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"qsys2"</span><span style="color: #007700">));<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$i5</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"select&nbsp;*&nbsp;from&nbsp;systables&nbsp;where&nbsp;table_schema&nbsp;=&nbsp;'$library'"</span><span style="color: #007700">);<br />&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_both</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">))&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'TABLE_NAME'</span><span style="color: #007700">].</span><span style="color: #DD0000">"&lt;/br&gt;"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">db2_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$i5</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents"><pre>
<div class="cdata"><pre>
ANIMALS
NAMES
PICTURES
</pre></div>
    </pre></div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="function.db2-close.html" class="function" rel="rdfs-seeAlso">db2_close()</a></li>
    <li class="member"><a href="function.db2-pconnect.html" class="function" rel="rdfs-seeAlso">db2_pconnect()</a></li>
   </ul>
  </p>
 </div>



</div><hr /><div style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.db2-conn-errormsg.html">db2_conn_errormsg</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.db2-cursor-type.html">db2_cursor_type</a></div>
 <div class="up"><a href="ref.ibm-db2.html">IBM DB2 Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
