<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Set options for connection or statement resources</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.db2-server-info.html">db2_server_info</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.db2-special-columns.html">db2_special_columns</a></div>
 <div class="up"><a href="ref.ibm-db2.html">IBM DB2 Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.db2-set-option" class="refentry">
  <div class="refnamediv">
    <h1 class="refname">db2_set_option</h1>
    <p class="verinfo">(PECL ibm_db2:1.0-1.6.2)</p><p class="refpurpose"><span class="refname">db2_set_option</span> &mdash; <span class="dc-title">Set options for connection or statement resources</span></p>

  </div>
  <div class="refsect1 description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
      <span class="type">bool</span> <span class="methodname"><b><b>db2_set_option</b></b></span>
       ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$resource</tt></span>      
      , <span class="methodparam"><span class="type">array</span> <tt class="parameter">$options</tt></span>
      , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$type</tt></span>
     )</div>

    <p class="para rdfs-comment">
     Sets options for a statement resource or a connection resource. You
     cannot set options for result set resources. 
    </p>
  </div>

  <div class="refsect1 parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
      <dl>

        <dt>

          <span class="term"><i><tt class="parameter">resource</tt></i>
</span>

          <dd>

            <p class="para">
             A valid statement resource as returned from
             <a href="function.db2-prepare.html" class="function">db2_prepare()</a> or a valid connection resource as
             returned from <a href="function.db2-connect.html" class="function">db2_connect()</a> or
             <a href="function.db2-pconnect.html" class="function">db2_pconnect()</a>.
            </p>
          </dd>

        </dt>

        <dt>

          <span class="term"><i><tt class="parameter">options</tt></i>
</span>

          <dd>

            <p class="para">
             An associative array containing valid statement or connection
             options. This parameter can be used to change autocommit values,
             cursor types (scrollable or forward), and to specify the case of
             the column names (lower, upper, or natural) that will appear in a
             result set.
              <dl>

                <dt>

                  <br /><span class="term"><i><tt class="parameter">autocommit</tt></i>
</span>

                  <dd>

                    <p class="para">
                     Passing <i>DB2_AUTOCOMMIT_ON</i> turns
                     autocommit on for the specified connection resource.
                    </p>
                    <p class="para">
                     Passing <i>DB2_AUTOCOMMIT_OFF</i> turns
                     autocommit off for the specified connection resource.
                    </p>
                  </dd>

                </dt>

                <dt>

                  <span class="term"><i><tt class="parameter">cursor</tt></i>
</span>

                  <dd>

                    <p class="para">
                     Passing <i>DB2_FORWARD_ONLY</i> specifies a
                     forward-only cursor for a statement resource. This is the
                     default cursor type, and is supported by all database
                     servers.
                    </p>
                    <p class="para">
                     Passing <i>DB2_SCROLLABLE</i> specifies a
                     scrollable cursor for a statement resource. Scrollable
                     cursors enable result set rows to be accessed in
                     non-sequential order, but are only supported by
                     IBM DB2 Universal Database databases.
                    </p>
                  </dd>

                </dt>

                <dt>

                  <span class="term"><i><tt class="parameter">binmode</tt></i>
</span>

                  <dd>

                    <p class="para">
                     Passing <i>DB2_BINARY</i> specifies that
                     binary data will be returned as is. This is the default
                     mode. This is the equivalent of setting
                     <i>ibm_db2.binmode=1</i> in <var class="filename">php.ini</var>.
                    </p>
                    <p class="para">
                     Passing <i>DB2_CONVERT</i> specifies that
                     binary data will be converted to hexadecimal encoding,
                     and will be returned as such. This is the equivalent of
                     setting <i>ibm_db2.binmode=2</i> in <var class="filename">php.ini</var>.
                    </p>
                    <p class="para">
                     Passing <i>DB2_PASSTHRU</i> specifies that
                     binary data will be converted to <b><tt>NULL</tt></b>. This is the
                     equivalent of setting <i>ibm_db2.binmode=3</i>
                     in <var class="filename">php.ini</var>.
                    </p>
                  </dd>

                </dt>

                <dt>

                  <span class="term"><i><tt class="parameter">db2_attr_case</tt></i>
</span>

                  <dd>

                    <p class="para">
                     Passing <i>DB2_CASE_LOWER</i> specifies that
                     column names of the result set are returned in lower case.
                    </p>
                    <p class="para">
                     Passing <i>DB2_CASE_UPPER</i> specifies that
                     column names of the result set are returned in upper case.
                    </p>
                    <p class="para">
                     Passing <i>DB2_CASE_NATURAL</i> specifies that
                     column names of the result set are returned in natural
                     case.
                    </p>
                  </dd>

                </dt>

                <dt>

                 <span class="term"><i><tt class="parameter">deferred_prepare</tt></i>
</span>

                 <dd>

                  <p class="para">
                   Passing <i>DB2_DEFERRED_PREPARE_ON</i> turns deferred 
                   prepare on for the specified statement resource.
                  </p>
                  <p class="para">
                   Passing <i>DB2_DEFERRED_PREPARE_OFF</i> turns deferred 
                   prepare off for the specified statement resource.
                  </p>
                 </dd>

                </dt>
                
              </dl>

            </p>
            <p class="para">
             The following new i5/OS options are available as of ibm_db2 version 1.5.1.
             <blockquote><p><b class="note">Note</b>: 
              <b>Note</b><br />
              
               Prior versions of ibm_db2 do not support these new i5 options.
              <br />
             </p></blockquote>
              <dl>

                <dt>

                  <span class="term"><i><tt class="parameter">i5_fetch_only</tt></i>
</span>

                  <dd>

                    <p class="para">
                     <i>DB2_I5_FETCH_ON</i> - Cursors are read-only 
                     and cannot be used for positioned updates or deletes. This 
                     is the default unless <i>SQL_ATTR_FOR_FETCH_ONLY</i> 
                     environment has been set to <i>SQL_FALSE</i>.
                    </p>
                    <p class="para">
                     <i>DB2_I5_FETCH_OFF</i> - Cursors can be used 
                     for positioned updates and deletes.
                    </p>
                  </dd>

                </dt>

               </dl>

            </p>
            <p class="para">
             The following new options are available as of ibm_db2 version 1.6.0. They provide useful tracking information 
             that can be accessed during execution with <a href="function.db2-get-option.html" class="function">db2_get_option()</a>.
             <blockquote><p><b class="note">Note</b>: 
              <b>Note</b><br />
              
               Prior versions of ibm_db2 do not support these new options.
              <br />
              
               When the value in each option is being set, some servers might not handle 
               the entire length provided and might truncate the value.
              <br />
              
               To ensure that the data specified in each option is converted correctly 
               when transmitted to a host system, use only the characters A through Z, 
               0 through 9, and the underscore (_) or period (.).
              <br />
             </p></blockquote>
             <dl>

              <dt>

               <span class="term"><i><tt class="parameter">userid</tt></i>
</span>

               <dd>

                <p class="para">
                 <i>SQL_ATTR_INFO_USERID</i> - A pointer to a null-terminated 
                 character string used to identify the client user ID sent to the host 
                 database server when using DB2 Connect.
                 <blockquote><p><b class="note">Note</b>: 
                  <b>Note</b><br />
                  
                   DB2 for z/OS and OS/390 servers support up to a length of 16 characters. 
                   This user-id is not to be confused with the authentication user-id, it is for 
                   identification purposes only and is not used for any authorization.
                  <br />
                 </p></blockquote>
                </p>
               </dd>

              </dt>

              <dt>

               <span class="term"><i><tt class="parameter">acctstr</tt></i>
</span>

               <dd>

                <p class="para">
                 <i>SQL_ATTR_INFO_ACCTSTR</i> - A pointer to a null-terminated 
                 character string used to identify the client accounting string sent to the 
                 host database server when using DB2 Connect.
                 <blockquote><p><b class="note">Note</b>: 
                  <b>Note</b><br />
                  
                   DB2 for z/OS and OS/390 servers support up to a length of 200 characters.
                  <br />
                 </p></blockquote>
                </p>
               </dd>

              </dt>

              <dt>

               <span class="term"><i><tt class="parameter">applname</tt></i>
</span>

               <dd>

                <p class="para">
                 <i>SQL_ATTR_INFO_APPLNAME</i> - A pointer to a null-terminated 
                 character string used to identify the client application name sent to the 
                 host database server when using DB2 Connect.
                 <blockquote><p><b class="note">Note</b>: 
                  <b>Note</b><br />
                  
                   DB2 for z/OS and OS/390 servers support up to a length of 32 characters.
                  <br />
                 </p></blockquote>
                </p>
               </dd>

              </dt>

              <dt>

               <span class="term"><i><tt class="parameter">wrkstnname</tt></i>
</span>

               <dd>

                <p class="para">
                 <i>SQL_ATTR_INFO_WRKSTNNAME</i> - A pointer to a null-terminated 
                 character string used to identify the client workstation name sent to the 
                 host database server when using DB2 Connect.
                 <blockquote><p><b class="note">Note</b>: 
                  <b>Note</b><br />
                  
                   DB2 for z/OS and OS/390 servers support up to a length of 18 characters.
                  <br />
                 </p></blockquote>
                </p>
               </dd>

              </dt>

             </dl>

            </p>
          </dd>

        </dt>

        <dt>

          <span class="term"><i><tt class="parameter">type</tt></i>
</span>

          <dd>

            <p class="para">
             An integer value that specifies the type of resource that was
             passed into the function. The type of resource and this value
             must correspond.
              <dl>

                <dt>

                  <br /><span class="term"><i><tt class="parameter"></span>

                  <dd>

                    <p class="para">
                     Passing <i>1</i> as the value specifies that
                     a connection resource has been passed into the function.
                    </p>
                    <p class="para">
                     Passing any integer not equal to <i>1</i> as
                     the value specifies that a statement resource has been
                     passed into the function.
                    </p>
                  </dd>

                </dt>

               </dl>

            </p>
          </dd>

        </dt>

      </dl>

    </p>
    <p class="para">
    </p>
    <p class="para">
     The following table specifies which options are compatible with
     the available resource types:
      <table border="5">
        <caption><b>Resource-Parameter Matrix</b></caption>
        <colgroup>

          <col align="center" />
          <col align="center" />
          <col align="center" />
          <col align="center" />
          <col align="center" />
          
          <thead valign="middle">
            <tr valign="middle">
              <th colspan="1">Key</th>
              <th colspan="1">Value</th>
              <th colspan="3">Resource Type</th>
            </tr>

          </thead>


          <tbody valign="middle" class="tbody">
            <tr valign="middle">
              <td class="empty">&nbsp;</td><td class="empty">&nbsp;</td><td colspan="1" rowspan="1" align="left">Connection</td>
              <td colspan="1" rowspan="1" align="left">Statement</td>
              <td colspan="1" rowspan="1" align="left">Result Set</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">autocommit</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_AUTOCOMMIT_ON</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">autocommit</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_AUTOCOMMIT_OFF</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">cursor</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_SCROLLABLE</i></td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">cursor</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_FORWARD_ONLY</i></td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">binmode</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_BINARY</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">binmode</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_CONVERT</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">binmode</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_PASSTHRU</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">db2_attr_case</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_CASE_LOWER</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">db2_attr_case</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_CASE_UPPER</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">db2_attr_case</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_CASE_NATURAL</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">deferred_prepare</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_DEFERRED_PREPARE_ON</i></td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">deferred_prepare</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_DEFERRED_PREPARE_OFF</i></td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">i5_fetch_only</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_I5_FETCH_ON</i></td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">i5_fetch_only</td>
              <td colspan="1" rowspan="1" align="left"><i>DB2_I5_FETCH_OFF</i></td>
              <td colspan="1" rowspan="1" align="left">-</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">userid</td>
              <td colspan="1" rowspan="1" align="left"><i>SQL_ATTR_INFO_USERID</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">acctstr</td>
              <td colspan="1" rowspan="1" align="left"><i>SQL_ATTR_INFO_ACCTSTR</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">applname</td>
              <td colspan="1" rowspan="1" align="left"><i>SQL_ATTR_INFO_APPLNAME</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

            <tr valign="middle">
              <td colspan="1" rowspan="1" align="left">wrkstnname</td>
              <td colspan="1" rowspan="1" align="left"><i>SQL_ATTR_INFO_WRKSTNNAME</i></td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">X</td>
              <td colspan="1" rowspan="1" align="left">-</td>
            </tr>

          </tbody>
        </colgroup>

      </table>

    </p>
  </div>

  
  <div class="refsect1 returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
    </p>
  </div>

  
  
  
  <div class="refsect1 examples">
    <h3 class="title">Examples</h3>
    <p class="para">

      <div class="example">
        <p><b>Example #1 Setting one parameter with a connection resource</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Database&nbsp;Connection&nbsp;Parameters&nbsp;*/<br /></span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$protocol&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Connection&nbsp;String&nbsp;*/<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=$protocol;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"UID=$username;PWD=$password;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Obtain&nbsp;Connection&nbsp;Resource&nbsp;*/<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;the&nbsp;associative&nbsp;options&nbsp;array&nbsp;with&nbsp;valid&nbsp;key-value&nbsp;pairs&nbsp;*/<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'autocommit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_ON</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Call&nbsp;the&nbsp;function&nbsp;using&nbsp;the&nbsp;correct&nbsp;resource,&nbsp;options&nbsp;array,&nbsp;and&nbsp;type&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Check&nbsp;if&nbsp;all&nbsp;options&nbsp;could&nbsp;be&nbsp;set&nbsp;correctly&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Options&nbsp;Set&nbsp;Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Could&nbsp;Not&nbsp;Set&nbsp;Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre><div class="cdata"><pre>Options Set Successfully</pre></div></pre></div>
      </div>

      <div class="example">
        <p><b>Example #2 Setting multiple parameters with a connection resource</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Database&nbsp;Connection&nbsp;Parameters&nbsp;*/<br /></span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$protocol&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Connection&nbsp;String&nbsp;*/<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=$protocol;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"UID=$username;PWD=$password;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Obtain&nbsp;Connection&nbsp;Resource&nbsp;*/<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;the&nbsp;associative&nbsp;options&nbsp;array&nbsp;with&nbsp;valid&nbsp;key-value&nbsp;pairs&nbsp;*/<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'autocommit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'binmode'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'db2_attr_case'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cursor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Call&nbsp;the&nbsp;function&nbsp;using&nbsp;the&nbsp;correct&nbsp;resource,&nbsp;options&nbsp;array,&nbsp;and&nbsp;type&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Check&nbsp;if&nbsp;all&nbsp;options&nbsp;could&nbsp;be&nbsp;set&nbsp;correctly&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Options&nbsp;Set&nbsp;Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Could&nbsp;Not&nbsp;Set&nbsp;Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre><div class="cdata"><pre>Options Set Successfully</pre></div></pre></div>
      </div>

      
      <div class="example">
        <p><b>Example #3 Setting multiple parameters with an invalid key</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Database&nbsp;Connection&nbsp;Parameters&nbsp;*/<br /></span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$protocol&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Connection&nbsp;String&nbsp;*/<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=$protocol;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"UID=$username;PWD=$password;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Obtain&nbsp;Connection&nbsp;Resource&nbsp;*/<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;the&nbsp;associative&nbsp;options&nbsp;array&nbsp;with&nbsp;valid&nbsp;key-value&nbsp;pairs&nbsp;*/<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'autocommit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'MY_INVALID_KEY'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'db2_attr_case'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cursor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Call&nbsp;the&nbsp;function&nbsp;using&nbsp;the&nbsp;correct&nbsp;resource,&nbsp;options&nbsp;array,&nbsp;and&nbsp;type&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Check&nbsp;if&nbsp;all&nbsp;options&nbsp;could&nbsp;be&nbsp;set&nbsp;correctly&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Options&nbsp;Set&nbsp;Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Could&nbsp;Not&nbsp;Set&nbsp;Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre><div class="cdata"><pre>Could Not Set Options</pre></div></pre></div>
      </div>

      
      <div class="example">
        <p><b>Example #4 Setting multiple parameters with an invalid value</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Database&nbsp;Connection&nbsp;Parameters&nbsp;*/<br /></span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$protocol&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Connection&nbsp;String&nbsp;*/<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=$protocol;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"UID=$username;PWD=$password;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Obtain&nbsp;Connection&nbsp;Resource&nbsp;*/<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;the&nbsp;associative&nbsp;options&nbsp;array&nbsp;with&nbsp;valid&nbsp;key-value&nbsp;pairs&nbsp;*/<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'autocommit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'binmode'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'INVALID_VALUE'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'db2_attr_case'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cursor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Call&nbsp;the&nbsp;function&nbsp;using&nbsp;the&nbsp;correct&nbsp;resource,&nbsp;options&nbsp;array,&nbsp;and&nbsp;type&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Check&nbsp;if&nbsp;all&nbsp;options&nbsp;could&nbsp;be&nbsp;set&nbsp;correctly&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Options&nbsp;Set&nbsp;Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Could&nbsp;Not&nbsp;Set&nbsp;Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre><div class="cdata"><pre>Could Not Set Options</pre></div></pre></div>
      </div>

      <div class="example">
        <p><b>Example #5 Setting multiple parameters with a connection resource and the wrong type</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Database&nbsp;Connection&nbsp;Parameters&nbsp;*/<br /></span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$protocol&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Connection&nbsp;String&nbsp;*/<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=$protocol;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"UID=$username;PWD=$password;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Obtain&nbsp;Connection&nbsp;Resource&nbsp;*/<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;the&nbsp;associative&nbsp;options&nbsp;array&nbsp;with&nbsp;valid&nbsp;key-value&nbsp;pairs&nbsp;*/<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'autocommit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'binmode'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'db2_attr_case'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cursor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Call&nbsp;the&nbsp;function&nbsp;using&nbsp;the&nbsp;correct&nbsp;resource,&nbsp;options&nbsp;array,&nbsp;and&nbsp;the&nbsp;wrong&nbsp;type&nbsp;value&nbsp;*/<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Check&nbsp;if&nbsp;all&nbsp;options&nbsp;could&nbsp;be&nbsp;set&nbsp;correctly&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Options&nbsp;Set&nbsp;Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Could&nbsp;Not&nbsp;Set&nbsp;Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre><div class="cdata"><pre>Could Not Set Options</pre></div></pre></div>
      </div>

      <div class="example">
        <p><b>Example #6 Setting multiple parameters with the wrong resource</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Database&nbsp;Connection&nbsp;Parameters&nbsp;*/<br /></span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$protocol&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Connection&nbsp;String&nbsp;*/<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=$protocol;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"UID=$username;PWD=$password;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Obtain&nbsp;Connection&nbsp;Resource&nbsp;*/<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;the&nbsp;associative&nbsp;options&nbsp;array&nbsp;with&nbsp;valid&nbsp;key-value&nbsp;pairs&nbsp;*/<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'autocommit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'binmode'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'db2_attr_case'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cursor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;EMPLOYEE'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Call&nbsp;the&nbsp;function&nbsp;using&nbsp;the&nbsp;wrong&nbsp;resource,&nbsp;and&nbsp;the&nbsp;correct&nbsp;options&nbsp;array,&nbsp;and&nbsp;type&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Check&nbsp;if&nbsp;all&nbsp;options&nbsp;could&nbsp;be&nbsp;set&nbsp;correctly&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Options&nbsp;Set&nbsp;Successfully'</span><span style="color: #007700">;<br />}<br />else<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Could&nbsp;Not&nbsp;Set&nbsp;Options'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre><div class="cdata"><pre>Could Not Set Options</pre></div></pre></div>
      </div>

      <div class="example">
        <p><b>Example #7 Putting it all together</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;Database&nbsp;Connection&nbsp;Parameters&nbsp;*/<br /></span><span style="color: #0000BB">$database&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SAMPLE'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$hostname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$protocol&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'TCPIP'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'db2inst1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ibmdb2'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Connection&nbsp;String&nbsp;*/<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"DRIVER={IBM&nbsp;DB2&nbsp;ODBC&nbsp;DRIVER};DATABASE=$database;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"HOSTNAME=$hostname;PORT=$port;PROTOCOL=$protocol;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$conn_string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"UID=$username;PWD=$password;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Obtain&nbsp;Connection&nbsp;Resource&nbsp;*/<br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Create&nbsp;the&nbsp;associative&nbsp;options&nbsp;array&nbsp;with&nbsp;valid&nbsp;key-value&nbsp;pairs&nbsp;*/<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'db2_attr_case'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_CASE_LOWER</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cursor'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;EMPLOYEE&nbsp;WHERE&nbsp;EMPNO&nbsp;=&nbsp;?&nbsp;OR&nbsp;EMPNO&nbsp;=&nbsp;?'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Call&nbsp;the&nbsp;function&nbsp;using&nbsp;the&nbsp;correct&nbsp;resource,&nbsp;options&nbsp;array,&nbsp;and&nbsp;type&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$option_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'000130'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'000140'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">/*&nbsp;Get&nbsp;Row&nbsp;2&nbsp;before&nbsp;Row&nbsp;1&nbsp;since&nbsp;Scrollable&nbsp;Cursor&nbsp;*/<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">db2_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br />print&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">db2_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre><div class="cdata"><pre>Array
(
    [empno] =&gt; 000140
    [firstnme] =&gt; HEATHER
    [midinit] =&gt; A
    [lastname] =&gt; NICHOLLS
    [workdept] =&gt; C01
    [phoneno] =&gt; 1793
    [hiredate] =&gt; 1976-12-15
    [job] =&gt; ANALYST
    [edlevel] =&gt; 18
    [sex] =&gt; F
    [birthdate] =&gt; 1946-01-19
    [salary] =&gt; 28420.00
    [bonus] =&gt; 600.00
    [comm] =&gt; 2274.00
)

Array
(
    [empno] =&gt; 000130
    [firstnme] =&gt; DELORES
    [midinit] =&gt; M
    [lastname] =&gt; QUINTANA
    [workdept] =&gt; C01
    [phoneno] =&gt; 4578
    [hiredate] =&gt; 1971-07-28
    [job] =&gt; ANALYST
    [edlevel] =&gt; 16
    [sex] =&gt; F
    [birthdate] =&gt; 1925-09-15
    [salary] =&gt; 23800.00
    [bonus] =&gt; 500.00
    [comm] =&gt; 1904.00
)</pre></div></pre></div>
      </div>
      <div class="example">
        <p><b>Example #8 i5/OS cursors are read-only</b></p>
        <div class="example-contents"><p>
        </p></div>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"i5_lib"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"nobody"</span><span style="color: #007700">));<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'select&nbsp;*&nbsp;from&nbsp;names&nbsp;where&nbsp;first&nbsp;=&nbsp;?'</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"first2"</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">db2_bind_param</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"name"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DB2_PARAM_IN</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"i5_fetch_only"</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">DB2_I5_FETCH_ON</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,</span><span style="color: #0000BB">$options</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">db2_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"{$row[0]}&nbsp;{$row[1]}"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents"><pre>
<div class="cdata"><pre>
first2 last2
</pre></div>
        </pre></div>
      </div>
    </p>
  </div>

  <div class="refsect1 seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
      <ul class="simplelist">
        <li class="member"><a href="function.db2-connect.html" class="function" rel="rdfs-seeAlso">db2_connect()</a></li>
        <li class="member"><a href="function.db2-pconnect.html" class="function" rel="rdfs-seeAlso">db2_pconnect()</a></li>
        <li class="member"><a href="function.db2-exec.html" class="function" rel="rdfs-seeAlso">db2_exec()</a></li>
        <li class="member"><a href="function.db2-prepare.html" class="function" rel="rdfs-seeAlso">db2_prepare()</a></li>
        <li class="member"><a href="function.db2-cursor-type.html" class="function" rel="rdfs-seeAlso">db2_cursor_type()</a></li>
      </ul>
    </p>
  </div>

</div><hr /><div style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.db2-server-info.html">db2_server_info</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.db2-special-columns.html">db2_special_columns</a></div>
 <div class="up"><a href="ref.ibm-db2.html">IBM DB2 Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
