<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://purl.org/NET/erdf/profile">
 <title>PHP: Array Functions - Manual</title>
 <style type="text/css" media="all">
  @import url("http://static.php.net/www.php.net/styles/site.css");
  @import url("http://static.php.net/www.php.net/styles/phpnet.css");
 </style>
 <!--[if IE]><![if gte IE 6]><![endif]-->
  <style type="text/css" media="print">
   @import url("http://static.php.net/www.php.net/styles/print.css");
  </style>
 <!--[if IE]><![endif]><![endif]-->
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
 <link rel="shortcut icon" href="http://static.php.net/www.php.net/favicon.ico" />
 <link rel="contents" href="index.php" />
 <link rel="index" href="book.array.php" />
 <link rel="prev" href="book.array.php" />
 <link rel="next" href="function.array-change-key-case.php" />
 <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/" />
 <link rel="schema.rdfs" href="http://www.w3.org/2000/01/rdf-schema#" />
 <script type="text/javascript" src="http://static.php.net/www.php.net/userprefs.js"></script>
 <base href="http://www.php.net/manual/en/ref.array.php" />
</head>
<body>

<div id="headnav">
 <a href="/" rel="home"><img src="http://static.php.net/www.php.net/images/php.gif"
 alt="PHP" width="120" height="67" /></a>
 <div id="headmenu">
  <a href="/downloads.php">downloads</a> |
  <a href="/docs.php">documentation</a> |
  <a href="/FAQ.php">faq</a> |
  <a href="/support.php">getting help</a> |
  <a href="/mailing-lists.php">mailing lists</a> |
  <a href="http://bugs.php.net/">reporting bugs</a> |
  <a href="/sites.php">php.net sites</a> |
  <a href="/links.php">links</a> |
  <a href="/conferences/">conferences</a> |
  <a href="/my.php">my php.net</a>
 </div>
</div>

<div id="headsearch">
 <form method="post" action="/search.php" id="topsearch">
  <p>
   <span title="Keyboard shortcut: Alt+S (Win), Ctrl+S (Apple)">
    <span class="shortkey">s</span>earch for
   </span>
   <input type="text" name="pattern" value="" size="30" accesskey="s" />
   <span>in the</span>
   <select name="show">
    <option value="quickref" selected="selected">function list</option>
    <option value="all"      >all php.net sites</option>
    <option value="local"    >this mirror only</option>
    <option value="manual"   >online documentation</option>
    <option value="bugdb"    >bug database</option>
    <option value="news_archive">Site News Archive</option>
    <option value="changelogs">All Changelogs</option>
    <option value="pear"     >just pear.php.net</option>
    <option value="pecl"     >just pecl.php.net</option>
    <option value="talks"    >just talks.php.net</option>
    <option value="maillist" >general mailing list</option>
    <option value="devlist"  >developer mailing list</option>
    <option value="phpdoc"   >documentation mailing list</option>
   </select>
   <input type="image"
          src="http://static.php.net/www.php.net/images/small_submit_white.gif"
          class="submit" alt="search" />
   <input type="hidden" name="lang" value="en" />
  </p>
 </form>
</div>

<div id="layout_2">
 <div id="leftbar">
<!--UdmComment-->
<ul class="toc">
 <li class="header home"><a href="index.php">PHP Manual</a></li>
 <li class="header up"><a href="funcref.php">Function Reference</a></li>
 <li class="header up"><a href="refs.basic.vartype.php">Variable and Type Related Extensions</a></li>
 <li class="header up"><a href="book.array.php">Array Functions</a></li>
 <li><a href="intro.array.php">Introduction</a></li>
 <li><a href="array.setup.php">Installing/Configuring</a></li>
 <li><a href="array.constants.php">Predefined Constants</a></li>
 <li class="active"><a href="ref.array.php">Array Functions</a></li>
</ul><!--/UdmComment-->

 </div>
 <div id="content" class="manual/en">
<!--UdmComment-->
<div class="manualnavbar manualnavbar_top">
 <span class="next">
  <a href="function.array-change-key-case.php">array_change_key_case<img src="http://static.php.net/www.php.net/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a>
 </span>
 <span class="prev">
  <a href="book.array.php"><img src="http://static.php.net/www.php.net/images/caret-l.gif" alt="&lt;" width="11" height="7" />Arrays</a>
 </span>
 <hr />
 <span class="lastupdated">Last updated: Fri, 11 Apr 2008</span>
 <div class="langchooser">
  <form action="/manual/change.php" method="get">
   <p>view this page in </p><fieldset><select name="page">
    <option value="bg/ref.array.php">Bulgarian</option>
    <option value="pt_BR/ref.array.php">Brazilian Portuguese</option>
    <option value="fr/ref.array.php">French</option>
    <option value="de/ref.array.php">German</option>
    <option value="it/ref.array.php">Italian</option>
    <option value="ja/ref.array.php">Japanese</option>
    <option value="pl/ref.array.php">Polish</option>
    <option value="ro/ref.array.php">Romanian</option>
    <option value="ru/ref.array.php">Russian</option>
    <option value="es/ref.array.php">Spanish</option>
    <option value="help-translate.php">Other</option>
   </select>
   <input type="image" src="http://static.php.net/www.php.net/images/small_submit.gif" id="changeLangImage" alt="" />
  </fieldset></form>
 </div>
</div>
<!--/UdmComment-->

<div>
 <h1 class="title">Array Functions</h1>
 <div class="partintro" id="array.seealso" name="array.seealso">
   <h1 class="title">See Also</h1>
   <p class="para">
    See also <a href="function.is-array.php" class="function">is_array()</a>, <a href="function.explode.php" class="function">explode()</a>,
    <a href="function.implode.php" class="function">implode()</a>, <a href="function.split.php" class="function">split()</a>,
    <a href="function.preg-split.php" class="function">preg_split()</a>, and <a href="function.unset.php" class="function">unset()</a>.
   </p>
 </div>

 






































































































































































































































































































































































































































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.array-change-key-case.php">array_change_key_case</a> — Changes all keys in an array</li><li><a href="function.array-chunk.php">array_chunk</a> — Split an array into chunks</li><li><a href="function.array-combine.php">array_combine</a> — Creates an array by using one array for keys and another for its values</li><li><a href="function.array-count-values.php">array_count_values</a> — Counts all the values of an array</li><li><a href="function.array-diff-assoc.php">array_diff_assoc</a> — Computes the difference of arrays with additional index check</li><li><a href="function.array-diff-key.php">array_diff_key</a> — Computes the difference of arrays using keys for comparison</li><li><a href="function.array-diff-uassoc.php">array_diff_uassoc</a> — Computes the difference of arrays with additional index check which is performed by a user supplied callback function</li><li><a href="function.array-diff-ukey.php">array_diff_ukey</a> — Computes the difference of arrays using a callback function on the keys for comparison</li><li><a href="function.array-diff.php">array_diff</a> — Computes the difference of arrays</li><li><a href="function.array-fill-keys.php">array_fill_keys</a> — Fill an array with values, specifying keys</li><li><a href="function.array-fill.php">array_fill</a> — Fill an array with values</li><li><a href="function.array-filter.php">array_filter</a> — Filters elements of an array using a callback function</li><li><a href="function.array-flip.php">array_flip</a> — Exchanges all keys with their associated values in an array</li><li><a href="function.array-intersect-assoc.php">array_intersect_assoc</a> — Computes the intersection of arrays with additional index check</li><li><a href="function.array-intersect-key.php">array_intersect_key</a> — Computes the intersection of arrays using keys for comparison</li><li><a href="function.array-intersect-uassoc.php">array_intersect_uassoc</a> — Computes the intersection of arrays with additional index check, compares indexes by a callback function</li><li><a href="function.array-intersect-ukey.php">array_intersect_ukey</a> — Computes the intersection of arrays using a callback function on the keys for comparison</li><li><a href="function.array-intersect.php">array_intersect</a> — Computes the intersection of arrays</li><li><a href="function.array-key-exists.php">array_key_exists</a> — Checks if the given key or index exists in the array</li><li><a href="function.array-keys.php">array_keys</a> — Return all the keys of an array</li><li><a href="function.array-map.php">array_map</a> — Applies the callback to the elements of the given arrays</li><li><a href="function.array-merge-recursive.php">array_merge_recursive</a> — Merge two or more arrays recursively</li><li><a href="function.array-merge.php">array_merge</a> — Merge one or more arrays</li><li><a href="function.array-multisort.php">array_multisort</a> — Sort multiple or multi-dimensional arrays</li><li><a href="function.array-pad.php">array_pad</a> — Pad array to the specified length with a value</li><li><a href="function.array-pop.php">array_pop</a> — Pop the element off the end of array</li><li><a href="function.array-product.php">array_product</a> — Calculate the product of values in an array</li><li><a href="function.array-push.php">array_push</a> — Push one or more elements onto the end of array</li><li><a href="function.array-rand.php">array_rand</a> — Pick one or more random entries out of an array</li><li><a href="function.array-reduce.php">array_reduce</a> — Iteratively reduce the array to a single value using a callback function</li><li><a href="function.array-reverse.php">array_reverse</a> — Return an array with elements in reverse order</li><li><a href="function.array-search.php">array_search</a> — Searches the array for a given value and returns the corresponding key if successful</li><li><a href="function.array-shift.php">array_shift</a> — Shift an element off the beginning of array</li><li><a href="function.array-slice.php">array_slice</a> — Extract a slice of the array</li><li><a href="function.array-splice.php">array_splice</a> — Remove a portion of the array and replace it with something else</li><li><a href="function.array-sum.php">array_sum</a> — Calculate the sum of values in an array</li><li><a href="function.array-udiff-assoc.php">array_udiff_assoc</a> — Computes the difference of arrays with additional index check, compares data by a callback function</li><li><a href="function.array-udiff-uassoc.php">array_udiff_uassoc</a> — Computes the difference of arrays with additional index check, compares data and indexes by a callback function</li><li><a href="function.array-udiff.php">array_udiff</a> — Computes the difference of arrays by using a callback function for data comparison</li><li><a href="function.array-uintersect-assoc.php">array_uintersect_assoc</a> — Computes the intersection of arrays with additional index check, compares data by a callback function</li><li><a href="function.array-uintersect-uassoc.php">array_uintersect_uassoc</a> — Computes the intersection of arrays with additional index check, compares data and indexes by a callback functions</li><li><a href="function.array-uintersect.php">array_uintersect</a> — Computes the intersection of arrays, compares data by a callback function</li><li><a href="function.array-unique.php">array_unique</a> — Removes duplicate values from an array</li><li><a href="function.array-unshift.php">array_unshift</a> — Prepend one or more elements to the beginning of an array</li><li><a href="function.array-values.php">array_values</a> — Return all the values of an array</li><li><a href="function.array-walk-recursive.php">array_walk_recursive</a> — Apply a user function recursively to every member of an array</li><li><a href="function.array-walk.php">array_walk</a> — Apply a user function to every member of an array</li><li><a href="function.array.php">array</a> — Create an array</li><li><a href="function.arsort.php">arsort</a> — Sort an array in reverse order and maintain index association</li><li><a href="function.asort.php">asort</a> — Sort an array and maintain index association</li><li><a href="function.compact.php">compact</a> — Create array containing variables and their values</li><li><a href="function.count.php">count</a> — Count elements in an array, or properties in an object</li><li><a href="function.current.php">current</a> — Return the current element in an array</li><li><a href="function.each.php">each</a> — Return the current key and value pair from an array and advance the array cursor</li><li><a href="function.end.php">end</a> — Set the internal pointer of an array to its last element</li><li><a href="function.extract.php">extract</a> — Import variables into the current symbol table from an array</li><li><a href="function.in-array.php">in_array</a> — Checks if a value exists in an array</li><li><a href="function.key.php">key</a> — Fetch a key from an array</li><li><a href="function.krsort.php">krsort</a> — Sort an array by key in reverse order</li><li><a href="function.ksort.php">ksort</a> — Sort an array by key</li><li><a href="function.list.php">list</a> — Assign variables as if they were an array</li><li><a href="function.natcasesort.php">natcasesort</a> — Sort an array using a case insensitive "natural order" algorithm</li><li><a href="function.natsort.php">natsort</a> — Sort an array using a "natural order" algorithm</li><li><a href="function.next.php">next</a> — Advance the internal array pointer of an array</li><li><a href="function.pos.php">pos</a> — Alias of current</li><li><a href="function.prev.php">prev</a> — Rewind the internal array pointer</li><li><a href="function.range.php">range</a> — Create an array containing a range of elements</li><li><a href="function.reset.php">reset</a> — Set the internal pointer of an array to its first element</li><li><a href="function.rsort.php">rsort</a> — Sort an array in reverse order</li><li><a href="function.shuffle.php">shuffle</a> — Shuffle an array</li><li><a href="function.sizeof.php">sizeof</a> — Alias of count</li><li><a href="function.sort.php">sort</a> — Sort an array</li><li><a href="function.uasort.php">uasort</a> — Sort an array with a user-defined comparison function and maintain index association</li><li><a href="function.uksort.php">uksort</a> — Sort an array by keys using a user-defined comparison function</li><li><a href="function.usort.php">usort</a> — Sort an array by values using a user-defined comparison function</li></ul>
</div>
<br /><br /><!--UdmComment-->
<div class="manualnavbar manualnavbar_bottom">
 <span class="next">
  <a href="function.array-change-key-case.php">array_change_key_case<img src="http://static.php.net/www.php.net/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a>
 </span>
 <span class="prev">
  <a href="book.array.php"><img src="http://static.php.net/www.php.net/images/caret-l.gif" alt="&lt;" width="11" height="7" />Arrays</a>
 </span>
 <hr />
 <span class="lastupdated">Last updated: Fri, 11 Apr 2008</span>
 <div class="langchooser">
  &nbsp;
 </div>
</div>
<!--/UdmComment-->


<div id="usernotes">
 <div class="head">
  <span class="action"><a href="/manual/add-note.php?sect=ref.array&amp;redirect=http://www.php.net/manual/en/ref.array.php"><img src="http://static.php.net/www.php.net/images/notes-add.gif" alt="add a note" width="13" height="13" align="middle" /></a> <small><a href="/manual/add-note.php?sect=ref.array&amp;redirect=http://www.php.net/manual/en/ref.array.php">add a note</a></small></span>
  <small>User Contributed Notes</small><br />
  <strong>Array Functions</strong>
 </div>
 <a name="82335"></a>
 <div class="note">
  <strong>pragash_jey at yahoo dot com</strong><br />
  <a href="#82335">06-Apr-2008 07:38</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Java Like Array Implementation!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
&nbsp;* Author : Pragash Jeyaratnam<br />
&nbsp;* Vector Class <br />
&nbsp;* PHP Version 5.2.5<br />
&nbsp;* Contact : pragash_jey@yahoo.com.<br />
&nbsp;*/<br />
</span><span class="keyword">class </span><span class="default">Vector<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; * The number of valid components in this Vector object.<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected </span><span class="default">$elementCount</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; * The array buffer into which the components of the vector are stored.<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected </span><span class="default">$elementData</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**Default vector Constructor*/<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**Append the parameter element to the vector*/<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">add</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty(</span><span class="default">$object</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">[] = </span><span class="default">$object</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; * Returns true of Vector is empty false otherwise<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">isEmpty</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; * Returns the current size of this Vector <br />
&nbsp;&nbsp; */<br />
&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">size</span><span class="keyword">()<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; *&nbsp; Searches for the first occurence of the given argument<br />
&nbsp;&nbsp;&nbsp; **/<br />
&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">indexOf</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if((</span><span class="default">$index </span><span class="keyword">=</span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">)) !==</span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$index</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return -</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; * This function will retain TRUE if $object is contained<br />
&nbsp;&nbsp;&nbsp; * within the vector else FALSE<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">contains</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">indexOf</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)&gt;=</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; * Returns Vector Object at index $index<br />
&nbsp;&nbsp;&nbsp; * Error : Null is returned<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">get</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">checkBound</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; * Sets the object at $index to be $object<br />
&nbsp;&nbsp;&nbsp; **/<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">set</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">,</span><span class="default">$object</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">checkBound</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] =</span><span class="default">$object </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; * Removes element at $index<br />
&nbsp;&nbsp; **/ <br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">removeAt</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">checkBound</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">)) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$index</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">!= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">+</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Removes all elements from the Vector.&nbsp; Note that this does not<br />
&nbsp;&nbsp; &nbsp; * resize the internal data array.<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">removeAll</span><span class="keyword">()<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount </span><span class="keyword">==</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">size</span><span class="keyword">();</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">set</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">,</span><span class="default">NULL</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; * This function checks whether index<br />
&nbsp;&nbsp;&nbsp; * is within the array bound<br />
&nbsp;&nbsp;&nbsp; **/<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; </span><span class="keyword">private function </span><span class="default">checkBound</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$index </span><span class="keyword">&gt; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount</span><span class="keyword">-</span><span class="default">1 </span><span class="keyword">|| </span><span class="default">$index </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Array Index Out Of Bound Exception'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; *Removes the first element from the Vector <br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">removeFirstElement</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'No Such Element'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$test </span><span class="keyword">=</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty(</span><span class="default">$test</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementCount </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">elementData</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="82161"></a>
 <div class="note">
  <strong>Anonymous</strong><br />
  <a href="#82161">29-Mar-2008 12:28</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
This is the shorter way to flatten a array:<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">array_flatten</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]=(array)</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="81876"></a>
 <div class="note">
  <strong>bas at muer dot nl</strong><br />
  <a href="#81876">17-Mar-2008 09:17</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
I see a lot of people here writing complex functions to convert an array to a string, for use with Javascript or other things (possibly even databases, which would be bad).<br />
For Javascript, the most efficient way would be JSON (<a href="http://www.php.net/json_encode" target="_blank">http://www.php.net/json_encode</a>). For normal use, serialize() (<a href="http://www.php.net/serialize" target="_blank">http://www.php.net/serialize</a>) is your friend.</span>
</code></div>
  </div>
 </div>
 <a name="81627"></a>
 <div class="note">
  <strong>jake at blah dot inf</strong><br />
  <a href="#81627">06-Mar-2008 06:03</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
@margol:<br />
<br />
<span class="default">&lt;?php<br />
$tuple_array </span><span class="keyword">= array(array(</span><span class="string">'key1' </span><span class="keyword">=&gt; </span><span class="string">'val1'</span><span class="keyword">), array(</span><span class="string">'key2' </span><span class="keyword">=&gt; </span><span class="string">'val2'</span><span class="keyword">));<br />
list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$tuple_array</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
But, why not use a two element array instead of a single-element associative array?<br />
<br />
<span class="default">&lt;?php<br />
$tuple_array </span><span class="keyword">= array(array(</span><span class="string">'key1'</span><span class="keyword">, </span><span class="string">'val1'</span><span class="keyword">), array(</span><span class="string">'key2'</span><span class="keyword">,</span><span class="string">'val2'</span><span class="keyword">));<br />
list(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">) = </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$tuple_array</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="81562"></a>
 <div class="note">
  <strong>margol at beamartyr dot net</strong><br />
  <a href="#81562">04-Mar-2008 01:45</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
More intuitive tuple support would be nice&nbsp; :)<br />
<br />
But for those scratching their heads, like I did, to extract a tuple from an array of tuples, do something like:<br />
<br />
&nbsp;&nbsp;&nbsp; $tuple = array_pop($tuple_array);<br />
&nbsp;&nbsp;&nbsp; $key = key($tuple);<br />
&nbsp;&nbsp;&nbsp; $val = $tuple[$key];</span>
</code></div>
  </div>
 </div>
 <a name="81455"></a>
 <div class="note">
  <strong>yousefomar (a) yahoo dot com</strong><br />
  <a href="#81455">28-Feb-2008 11:26</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Here is how you refresh the expiration time for multiple cookies:<br />
<br />
// get the cookie names<br />
$keys=array_keys($_COOKIE);<br />
<br />
// loop through all the cookies and update the exp. time<br />
for ($i=0; $i&lt;count($_COOKIE);$i++)<br />
&nbsp;&nbsp; setcookie( $keys[$i], $_COOKIE[$keys[$i]], time()+3600);<br />
<br />
you can use this in authentication validate file to keep the session up.</span>
</code></div>
  </div>
 </div>
 <a name="81115"></a>
 <div class="note">
  <strong>ms419 at freezone dot co dot uk</strong><br />
  <a href="#81115">14-Feb-2008 10:35</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
This function takes an array, a key and a value. If the key is not an array, it acts just like $array[$key] =&amp; $value; If the key is an array, it recurses in the array, creating nested arrays as necessary.<br />
<br />
Example:<br />
<br />
$array = array('A' =&gt; array('B' =&gt; 'phi'));<br />
$key = array('A', 'Z');<br />
$value = 'gamma';<br />
<br />
arraySet($array, $key, $value);<br />
<br />
$array should now be:<br />
<br />
array('A' =&gt; array('B' =&gt; 'phi', 'C' =&gt; 'gamma'));<br />
<br />
This is useful for constructing nested arrays from sets of filesystem paths (e.g. 'A/B/C') or structured variable names (e.g. 'A.B.C' or 'A[B][C]')<br />
<br />
Example:<br />
<br />
arraySet($array, preg_split('/\//', $path, -1, PREG_SPLIT_NO_EMPTY), $value);<br />
<br />
function arraySet(array &amp;$array, $key, &amp;$value)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (is_array($key)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $keyComponent = array_shift($key);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (empty($key)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array[$keyComponent] =&amp; $value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!is_array($array[$keyComponent])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array[$keyComponent] = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; PHP_CodeSniffer_arraySet($array[$keyComponent], $key, $value);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $array[$key] =&amp; $value;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="81081"></a>
 <div class="note">
  <strong>dennis at DONTSPAMME dot born05 dot nl</strong><br />
  <a href="#81081">13-Feb-2008 07:22</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
I haven't completely figured out when or why an array gets referenced or copied, but it gave me quite the headache..<br />
<br />
So i wrote a function which recursively copies an array while preserving keys and also clones objects if encountered<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * make a recursive copy of an array <br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @param array $aSource<br />
&nbsp;&nbsp; &nbsp; * @return array&nbsp; &nbsp; copy of source array<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_copy </span><span class="keyword">(</span><span class="default">$aSource</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// check if input is really an array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$aSource</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Input is not an Array"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// initialize return array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aRetAr </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// get array keys<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aKeys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$aSource</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// get array values<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aVals </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$aSource</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// loop through array and assign keys+values to new return array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$aKeys</span><span class="keyword">);</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// clone if object<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$aVals</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aRetAr</span><span class="keyword">[</span><span class="default">$aKeys</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]]=clone </span><span class="default">$aVals</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// recursively add array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} elseif (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$aVals</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aRetAr</span><span class="keyword">[</span><span class="default">$aKeys</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]]=</span><span class="default">array_copy </span><span class="keyword">(</span><span class="default">$aVals</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// assign just a plain scalar value<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aRetAr</span><span class="keyword">[</span><span class="default">$aKeys</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]]=</span><span class="default">$aVals</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$aRetAr</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope i can save someone else's aspirine with this ;)</span>
</code></div>
  </div>
 </div>
 <a name="80900"></a>
 <div class="note">
  <strong>csorfab at gmail dot com</strong><br />
  <a href="#80900">05-Feb-2008 10:26</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Here's a function I wrote to combine the values in an array in all different ways, and which returns a two-dimensional array as a byref result.<br />
<br />
E.g.<br />
<br />
if called:<br />
comb(array(1, 2, 3), $r);<br />
<br />
then $r would be:<br />
<br />
1 2 3<br />
1 3 2<br />
2 1 3<br />
2 3 1<br />
3 1 2<br />
3 2 1 <br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">comb</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, &amp;</span><span class="default">$rarr</span><span class="keyword">, </span><span class="default">$vtemp </span><span class="keyword">= array()){&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vtemp2 </span><span class="keyword">= </span><span class="default">$vtemp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vtemp2</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$atemp </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$atemp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$atemp</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">comb</span><span class="keyword">(</span><span class="default">$atemp</span><span class="keyword">, </span><span class="default">$rarr</span><span class="keyword">, </span><span class="default">$vtemp2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$vtemp2 </span><span class="keyword">as </span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">[] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rarr</span><span class="keyword">[] = </span><span class="default">$t</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="80839"></a>
 <div class="note">
  <strong>christian dot reinecke at web dot de</strong><br />
  <a href="#80839">02-Feb-2008 01:12</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Here are two more functions handling string2array and access array by string. It's useful if you want to access an array in xpath-style, such as parse_ini_file return values with $process_sections = TRUE.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">createArrayByString</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$value </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$splitter </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$index </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$splitter</span><span class="keyword">); </span><span class="comment">// get first element<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="default">__FUNCTION__</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array(</span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$function</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$splitter</span><span class="keyword">), </span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$value</span><span class="keyword">; <br />
}<br />
<br />
function </span><span class="default">accessArrayByString</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$default </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return empty(</span><span class="default">$string</span><span class="keyword">) ? </span><span class="default">$array </span><span class="keyword">: </span><span class="default">$default</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; @list (</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$rest</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="comment">// @ needed for last access<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="default">__FUNCTION__</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; ? </span><span class="default">$function</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$rest</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$default</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; : </span><span class="default">$default</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="string">"one.two.three.four"</span><span class="keyword">;<br />
</span><span class="default">$separator </span><span class="keyword">= </span><span class="string">"."</span><span class="keyword">;<br />
<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">createArrayByString</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">, </span><span class="string">"standard value"</span><span class="keyword">);<br />
</span><span class="default">$return </span><span class="keyword">= </span><span class="default">accessArrayByString</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">, </span><span class="string">"element not found"</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// should return array("one" =&gt; array("two" =&gt; array("three" =&gt; array("four" =&gt; "standard value"))))<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">); </span><span class="comment">// should return "standard value";<br />
</span><span class="default">?&gt;<br />
</span><br />
change the function name to what ever you want, the recursive call uses __FUNCTION__ for re-call.</span>
</code></div>
  </div>
 </div>
 <a name="80734"></a>
 <div class="note">
  <strong>florian at egliselasauzaie dot fr</strong><br />
  <a href="#80734">30-Jan-2008 02:09</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
I've created a class which is comparable to a Vector in C++;<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Vector </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$nb_elements</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$liste</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Vector</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste </span><span class="keyword">= array ();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">push_back</span><span class="keyword">(</span><span class="default">$valeur</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!empty (</span><span class="default">$valeur</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">[] = </span><span class="default">$valeur</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">insert_at</span><span class="keyword">(</span><span class="default">$indice</span><span class="keyword">, </span><span class="default">$valeur</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$indice </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$indice </span><span class="keyword">&lt; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">!= </span><span class="default">$indice</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">-</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">[</span><span class="default">$indice</span><span class="keyword">] = </span><span class="default">$valeur</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">remove_at</span><span class="keyword">(</span><span class="default">$indice</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$indice </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$indice </span><span class="keyword">&lt; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$indice</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">!= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">+</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">pop</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">shift</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nb_elements </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">liste</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="80631"></a>
 <div class="note">
  <strong>really quick function</strong><br />
  <a href="#80631">25-Jan-2008 12:37</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
function array_flatten($a){ //flattens multi-dim arrays (distroys keys)<br />
&nbsp;&nbsp;&nbsp; $ab = array(); if(!is_array($a)) return $ab;<br />
&nbsp;&nbsp;&nbsp; foreach($a as $value){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_array($value)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ab = array_merge($ab,array_flatten($value));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array_push($ab,$value);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $ab;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="80616"></a>
 <div class="note">
  <strong>Jck_true (leave out the &amp;#39;_&amp;#39;  at gmail dot com)</strong><br />
  <a href="#80616">25-Jan-2008 02:00</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
A usefull function that returns a flat array. <br />
I use it in a template system. Let the user pass a multidimensional array. Convert it using my function. Then use <br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= </span><span class="default">flatten</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">'{$'</span><span class="keyword">,</span><span class="string">'}'</span><span class="keyword">,</span><span class="string">'-&gt;'</span><span class="keyword">);<br />
echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">),</span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">),</span><span class="default">$template</span><span class="keyword">)<br />
</span><span class="comment">/** <br />
* Flattens out an multidimension array<br />
* Using the last parameters you can define the new key based on the old path.<br />
* @param array $array A multidimension array <br />
* @param string $prefix Internal perfix parameter - leave empty.<br />
* @param string $start_string What string should start the final array key?<br />
* @param string $end_string What string should end the final array key?<br />
* @param string $seperator The string that should seperate the piecies in final array key path<br />
* @return array Returns the flat array<br />
*/<br />
</span><span class="keyword">function </span><span class="default">flatten</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$start_string</span><span class="keyword">= </span><span class="string">'{$'</span><span class="keyword">,</span><span class="default">$end_string</span><span class="keyword">= </span><span class="string">'}'</span><span class="keyword">,</span><span class="default">$seperator</span><span class="keyword">=</span><span class="string">'-&gt;'</span><span class="keyword">,</span><span class="default">$prefix</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$return </span><span class="keyword">= array();<br />
&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">, </span><span class="default">Parser_method_replace</span><span class="keyword">::</span><span class="default">flatten</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$prefix</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="default">$seperator</span><span class="keyword">,</span><span class="default">$start_string</span><span class="keyword">,</span><span class="default">$end_string</span><span class="keyword">,</span><span class="default">$seperator</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; } else<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">[</span><span class="default">$start_string</span><span class="keyword">.</span><span class="default">$prefix</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="default">$end_string</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Example: <br />
$template = 'My string with replacement {$test-&gt;subkey}';<br />
{$test-&gt;subkey} will get replaced with $array['test']['subkey']</span>
</code></div>
  </div>
 </div>
 <a name="80177"></a>
 <div class="note">
  <strong>chaos dot global dot net at gmail dot com</strong><br />
  <a href="#80177">02-Jan-2008 03:53</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
if some one will need to convert array to php code use this function:<br />
<br />
DEFINE('OFFSET_DELIMETER', "\t");<br />
<br />
function array2php($array, $offset = OFFSET_DELIMETER)&nbsp; {<br />
&nbsp;&nbsp;&nbsp; $text = '';<br />
&nbsp;&nbsp;&nbsp; foreach($array as $k =&gt; $v) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (is_array($v)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $text .= "{$offset}'{$k}' =&gt; array(\n".array2php($v, $offset.OFFSET_DELIMETER)."$offset)";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $text .= "{$offset}'{$k}' =&gt; ".(is_string($v)? "'$v'": $v);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $text .= ",\n";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ($len = strlen($text)) $text[$len - 2] = " ";<br />
&nbsp;&nbsp;&nbsp; return $text;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="78555"></a>
 <div class="note">
  <strong>Hayley Watson</strong><br />
  <a href="#78555">17-Oct-2007 04:10</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Regarding cyberchrist at futura dot net's function. It makes an unnecessary array_merge(); the elements of $b that are merged with those of $a are immediately removed again by the array_diff(). The "limiting to known values" is entirely unnecessary, in other words: arrays already only contain "known values".<br />
<br />
Also, the description and function only address the issue of whether $a is a subset of $b, not whether it is a proper subset. For $a to be a proper subset of $b, it must also be the case that $b is not a subset of $a.<br />
<br />
Taking those points into account (and a personal aesthetic dislike of "if(test) return true; else return false;" gives:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_subset</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">))==</span><span class="default">0</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">is_proper_subset</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">is_subset</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) &amp;&amp; !</span><span class="default">is_subset</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="78502"></a>
 <div class="note">
  <strong>cyberchrist at futura dot net</strong><br />
  <a href="#78502">15-Oct-2007 06:33</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Lately, dealing with databases, I've been finding myself needing to know if one array, $a, is a proper subset of $b.<br />
<br />
Mathematically, this is asking (in set theory) [excuse the use of u and n instead of proper Unicode):<br />
&nbsp;<br />
( A u B ) n ( ~ B )<br />
<br />
What this does is it first limits to known values, then looks for anything outside of B but in the union of A and B (which would be those things in A which are not also in B).<br />
<br />
If any value exists in this set, then A is NOT a proper subset of B, because a value exists in A but not in B.&nbsp; For A to be a proper subset, all values in A must be in B.<br />
<br />
I'm sure this could easily be done any number of ways but this seems to work for me.&nbsp; It's not got a lot of error detection such as sterilizing inputs or checking input types.<br />
<br />
// bool array_subset( array, array )<br />
// Returns true if $a is a proper subset of $b, returns false otherwise.<br />
<br />
function array_subset( $a, $b )<br />
{<br />
&nbsp;&nbsp;&nbsp; if( count( array_diff( array_merge($a,$b), $b)) == 0 )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="77454"></a>
 <div class="note">
  <strong>Kazuyoshi Tlacaelel</strong><br />
  <a href="#77454">29-Aug-2007 11:56</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* converts a multidimensional array to a flat array<br />
&nbsp;*<br />
&nbsp;* trying to keep the original names of the keys<br />
&nbsp;* if repeated keys are found a hash will be added to the<br />
&nbsp;* keys trying to keep as much as possible of the original<br />
&nbsp;* key context<br />
&nbsp;*<br />
&nbsp;* september 30 2007<br />
&nbsp;* <br />
&nbsp;* PHP version 5<br />
&nbsp;*<br />
&nbsp;* @license&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GPL<br />
&nbsp;*<br />
&nbsp;*/<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array ( </span><span class="default">0 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; <br />
array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">6</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">7</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">8</span><span class="keyword">,),),), </span><span class="default">3 </span><span class="keyword">=&gt; array ( <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">9</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">10</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">11</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">12</span><span class="keyword">, <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">13</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">14</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">15</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">16</span><span class="keyword">,),),),), <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">17</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">18</span><span class="keyword">,),),), </span><span class="default">1 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">19</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">20</span><span class="keyword">,), <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">21</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">22</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">23</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">24</span><span class="keyword">, <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">25</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">26</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">27</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">28</span><span class="keyword">,),),),), <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array ( </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">29</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,),),);<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* transforms a multidimensional array to a flat array<br />
&nbsp;*<br />
&nbsp;* the parameter is referenced <br />
&nbsp;* so no returning value is needed<br />
&nbsp;* @param array $array the multidimensional array to flat<br />
&nbsp;* @return void<br />
&nbsp;*/ <br />
</span><span class="keyword">function </span><span class="default">array_flatten</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">has_arrays</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">copy_array</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$array_key</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array2 </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$array_key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$array_key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array2 </span><span class="keyword">as </span><span class="default">$subkey </span><span class="keyword">=&gt; </span><span class="default">$subvalue</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$subkey</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">generate_unique_key</span><span class="keyword">(</span><span class="default">$subkey</span><span class="keyword">)] = </span><span class="default">$subvalue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$subkey</span><span class="keyword">] = </span><span class="default">$subvalue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">generate_unique_key</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)&gt;</span><span class="default">8</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] . </span><span class="default">$key</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] . </span><span class="default">$key</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$id </span><span class="keyword">= </span><span class="default">$key </span><span class="keyword">. </span><span class="string">'_'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$uid </span><span class="keyword">= </span><span class="default">uniqid</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$uid</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$max </span><span class="keyword">= (</span><span class="default">9 </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$c </span><span class="keyword">= </span><span class="default">$len</span><span class="keyword">; ; </span><span class="default">$c </span><span class="keyword">--) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$id </span><span class="keyword">.= </span><span class="default">$uid</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$c </span><span class="keyword">== (</span><span class="default">$len </span><span class="keyword">- </span><span class="default">$max</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$id</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">get_array_indexes</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret_array</span><span class="keyword">[] = </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$ret_array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">has_arrays</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">get_array_indexes</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) as </span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">copy_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_flatten</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_multisort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; *&nbsp; OUTPUT <br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; *&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; 0 =&gt; 1,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_403767b6' =&gt; 2,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_793767b6' =&gt; 3,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_8a3767b6' =&gt; 4,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_454767b6' =&gt; 5,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_564767b6' =&gt; 6,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_035767b6' =&gt; 7,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_345767b6' =&gt; 8,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_e74767b6' =&gt; 9,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_f84767b6' =&gt; 10,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_855767b6' =&gt; 11,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_a65767b6' =&gt; 12,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_4e5767b6' =&gt; 13,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_6f5767b6' =&gt; 14,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_566767b6' =&gt; 15,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_876767b6' =&gt; 16,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_5b4767b6' =&gt; 17,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_6c4767b6' =&gt; 18,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_d43767b6' =&gt; 19,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; 1 =&gt; 20,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_4e3767b6' =&gt; 21,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_5f3767b6' =&gt; 22,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_ad4767b6' =&gt; 23,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_ce4767b6' =&gt; 24,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_485767b6' =&gt; 25,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_695767b6' =&gt; 26,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_116767b6' =&gt; 27,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_426767b6' =&gt; 28,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '0_814767b6' =&gt; 29,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; '1_924767b6' =&gt; 30,<br />
&nbsp;&nbsp; &nbsp; *&nbsp; )<br />
&nbsp;&nbsp; &nbsp; */<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="76796"></a>
 <div class="note">
  <strong>mo dot longman at gmail dot com</strong><br />
  <a href="#76796">30-Jul-2007 11:27</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
to 2g4wx3:<br />
i think better way for this is using JSON, if you have such module in your PHP. See json.org.<br />
<br />
to convert JS array to JSON string: arr.toJSONString();<br />
to convert JSON string to PHP array: json_decode($jsonString);<br />
<br />
You can also stringify objects, numbers, etc.</span>
</code></div>
  </div>
 </div>
 <a name="76525"></a>
 <div class="note">
  <strong>g4wx3</strong><br />
  <a href="#76525">19-Jul-2007 02:16</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
I needed a function to convert a php array into a javascript array. <br />
No problem i found it on "the net".<br />
<br />
But the function i found wasn't good enough, instead of return a string with javascript-array it echoed directly everything.<br />
I wanted to write the string to a file, when calling the function out of my function libary.<br />
<br />
Secondly, there where minor "bugs" in the script, when you're original array contained characters like line breaks(\r\n,..), or quotes('), it would hack up the javascript array<br />
<br />
Sow, i changed the function and fixed the bug.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//SUPER COOL : <a href="http://www.communitymx.com/content/article.cfm?page=3&amp;cid=7CD16" target="_blank">http://www.communitymx.com/content/article.cfm?page=3&amp;cid=7CD16</a><br />
//Checkout:&nbsp; REVERSE: <a href="http://www.hscripts.com/tutorials/php/jsArrayToPHP.php" target="_blank">http://www.hscripts.com/tutorials/php/jsArrayToPHP.php</a><br />
//Convert a PHP array to a JavaScript one (rev. 4)<br />
//Changlog by g4wx3: echo replaced by $output, added function output<br />
</span><span class="keyword">function </span><span class="default">output</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) </span><span class="comment">//make javascript ready<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">( array( </span><span class="string">'\\' </span><span class="keyword">, </span><span class="string">'\'' </span><span class="keyword">), array(</span><span class="string">'\\\\'</span><span class="keyword">, </span><span class="string">'\\\''</span><span class="keyword">) , </span><span class="default">$string</span><span class="keyword">); </span><span class="comment">//-&gt; for javascript array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(&nbsp; array(</span><span class="string">"\r\n"</span><span class="keyword">, </span><span class="string">"\r"</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">) , </span><span class="string">'&lt;br&gt;' </span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">//nl2br<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$string</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
function </span><span class="default">arrayToJS4</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$baseName </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Write out the initial array definition<br />
//v4&nbsp; &nbsp; echo ($baseName . " = new Array(); \r\n ");<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="default">$baseName </span><span class="keyword">. </span><span class="string">" = new Array(); \r\n "</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Reset the array loop pointer<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">reset </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Use list() and each() to loop over each key/value<br />
&nbsp;&nbsp;&nbsp; //pair of the array<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">while (list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//A numeric key, so output as usual<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$outKey </span><span class="keyword">= </span><span class="string">"[" </span><span class="keyword">. </span><span class="default">$key </span><span class="keyword">. </span><span class="string">"]"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//A string key, so output as a string<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$outKey </span><span class="keyword">= </span><span class="string">"['" </span><span class="keyword">. </span><span class="default">$key </span><span class="keyword">. </span><span class="string">"']"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//The value is another array, so simply call<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //another instance of this function to handle it<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">arrayToJS4</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$baseName </span><span class="keyword">. </span><span class="default">$outKey</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Output the key declaration<br />
//v4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo ($baseName . $outKey . " = ");&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$baseName </span><span class="keyword">. </span><span class="default">$outKey </span><span class="keyword">. </span><span class="string">" = "</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Now output the value<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Output as a string, as we did before&nbsp; &nbsp; &nbsp;&nbsp; <br />
//v4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo ("'" . output($value) . "'; \r\n ");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">"'" </span><span class="keyword">. </span><span class="default">output</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) . </span><span class="string">"'; \r\n "</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else if (</span><span class="default">$value </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Explicitly output false<br />
//v4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo ("false; \r\n");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">"false; \r\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else if (</span><span class="default">$value </span><span class="keyword">=== </span><span class="default">NULL</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Explicitly output null<br />
//v4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo ("null; \r\n");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">"null; \r\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else if (</span><span class="default">$value </span><span class="keyword">=== </span><span class="default">true</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Explicitly output true<br />
//v4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo ("true; \r\n");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">"true; \r\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Output the value directly otherwise<br />
//v4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo ($value . "; \r\n");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$value </span><span class="keyword">. </span><span class="string">"; \r\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
return </span><span class="default">$output</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>You can use this for printing $_GET array, for example</span>
</code></div>
  </div>
 </div>
 <a name="75787"></a>
 <div class="note">
  <strong>peanutpad at msn dot com</strong><br />
  <a href="#75787">15-Jun-2007 03:15</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
heres a function from <a href="http://www.linksback.org&nbsp;" target="_blank">http://www.linksback.org&nbsp;</a> Feedback welcome, of course!&nbsp; Public domain, yadda yadda.<br />
<br />
function mySort(&amp;$array,$key) {<br />
&nbsp;&nbsp;&nbsp; if (!is_array($array) || count($array) == 0) return true;<br />
&nbsp;&nbsp;&nbsp; $assocSortCompare&nbsp; = '$a = $a["'.$key.'"]; $b = $b["'.$key.'"];';<br />
<br />
&nbsp;&nbsp;&nbsp; if (is_numeric($array[0][$key])) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $assocSortCompare.= ' return ($a == $b) ? 0 : (($a &lt; $b) ? -1 : 1);';<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $assocSortCompare.= ' return strcmp($a,$b);';<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $assocSortCompare = create_function('$a,$b',$assocSortCompare);<br />
&nbsp;&nbsp;&nbsp; return usort($array,$assocSortCompare);<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="75677"></a>
 <div class="note">
  <strong>webdev at svbeatrix dot com</strong><br />
  <a href="#75677">11-Jun-2007 09:06</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Bugs happen, but how can people post functions that WON'T EVEN COMPILE!&nbsp; I truly detest finding a cool code snippet or function and then having to debug them. Sorry for the rant, but I have experienced this scenario a number of times.&nbsp; TEST YOUR CODE, THEN POST!<br />
<br />
Here is a revised and corrected previously posted function ArrayDepth, which had 3 bugs and yes, would not compile. <br />
<br />
function ArrayDepth($Array,$DepthCount=-1) {<br />
// Find maximum depth of an array<br />
// Usage: int ArrayDepth( array $array )<br />
// returns integer with max depth<br />
// if Array is a string or an empty array it will return 0<br />
&nbsp; $DepthArray=array(0);<br />
&nbsp; $DepthCount++;<br />
&nbsp; $Depth = 0;<br />
&nbsp; if (is_array($Array))<br />
&nbsp;&nbsp;&nbsp; foreach ($Array as $Key =&gt; $Value) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $DepthArray[]=ArrayDepth($Value,$DepthCount);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return $DepthCount;<br />
&nbsp; return max($DepthCount,max($DepthArray));<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="75427"></a>
 <div class="note">
  <strong>sid dot pasquale at gmail dot com</strong><br />
  <a href="#75427">29-May-2007 02:57</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/* This function allow you to transform a multidimensional array<br />
&nbsp;&nbsp; in a simple monodimensional array.<br />
&nbsp;&nbsp; Usage: array_walk($oldarray, 'flatten_array', &amp;$newarray);<br />
&nbsp;&nbsp; For example, this code below shows to you:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 3<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; 3<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
*/<br />
<br />
</span><span class="keyword">function </span><span class="default">flatten_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">, &amp;</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="string">'flatten_array'</span><span class="keyword">, &amp;</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;<br />
}<br />
&nbsp;<br />
</span><span class="default">$oldarray </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">)<br />
);<br />
</span><span class="default">$newarray </span><span class="keyword">= array();<br />
</span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$oldarray</span><span class="keyword">, </span><span class="string">'flatten_array'</span><span class="keyword">, &amp;</span><span class="default">$newarray</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$oldarray</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$newarray</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="74569"></a>
 <div class="note">
  <strong>info at dyflexis dot nl</strong><br />
  <a href="#74569">17-Apr-2007 01:13</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
A modernized version of the flatten_array() functies written by<br />
<br />
davidj at boundlessgallery dot DISLIKESPAM dot com<br />
on 02-Apr-2004 03:10<br />
<br />
This function is able to work with associative arrays<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">function </span><span class="default">flatten_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$size</span><span class="keyword">=</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$keys</span><span class="keyword">=</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$size</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$element </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$results </span><span class="keyword">= </span><span class="default">flatten_array</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sr </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sk</span><span class="keyword">=</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$y </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&lt; </span><span class="default">$sr</span><span class="keyword">; </span><span class="default">$y</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$flat_array</span><span class="keyword">[</span><span class="default">$sk</span><span class="keyword">[</span><span class="default">$y</span><span class="keyword">]] = </span><span class="default">$results</span><span class="keyword">[</span><span class="default">$sk</span><span class="keyword">[</span><span class="default">$y</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$flat_array</span><span class="keyword">[</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]] = </span><span class="default">$element</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$flat_array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="73976"></a>
 <div class="note">
  <strong>info at joolee dot nl</strong><br />
  <a href="#73976">19-Mar-2007 05:49</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
A slight modification in the arraytostring function, posted below. This function lists an array the same way you would define it in PHP.<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">function </span><span class="default">arraytostring</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$depth </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; if(</span><span class="default">$depth </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$tab </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">, </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">, </span><span class="string">"\t"</span><span class="keyword">));<br />
&nbsp;&nbsp; </span><span class="default">$text</span><span class="keyword">.=</span><span class="string">"array(\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$x</span><span class="keyword">++;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)==</span><span class="string">')'</span><span class="keyword">)&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">','</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text</span><span class="keyword">.=</span><span class="default">$tab</span><span class="keyword">.</span><span class="string">"\t"</span><span class="keyword">.</span><span class="string">'"'</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">'"'</span><span class="keyword">.</span><span class="string">" =&gt; "</span><span class="keyword">.</span><span class="default">arraytostring</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$text</span><span class="keyword">.=</span><span class="default">$tab</span><span class="keyword">.</span><span class="string">"\t"</span><span class="keyword">.</span><span class="string">"\"$key\" =&gt; \"$value\""</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (</span><span class="default">$count</span><span class="keyword">!=</span><span class="default">$x</span><span class="keyword">) </span><span class="default">$text</span><span class="keyword">.=</span><span class="string">",\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; </span><span class="default">$text</span><span class="keyword">.=</span><span class="string">"\n"</span><span class="keyword">.</span><span class="default">$tab</span><span class="keyword">.</span><span class="string">")\n"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, -</span><span class="default">4</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">)==</span><span class="string">'),),'</span><span class="keyword">)</span><span class="default">$text</span><span class="keyword">.=</span><span class="string">'))'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; return </span><span class="default">$text</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="73880"></a>
 <div class="note">
  <strong>Vladson</strong><br />
  <a href="#73880">14-Mar-2007 08:18</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Hope someone find it useful..<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; Function: eratosthenes<br />
&nbsp;&nbsp;&nbsp; Usage: array eratosthenes ( int max_value )<br />
<br />
&nbsp;&nbsp;&nbsp; Description:<br />
&nbsp;&nbsp;&nbsp; Sieve of Eratosthenes is a simple, ancient algorithm<br />
&nbsp;&nbsp;&nbsp; for finding all prime numbers up to a specified integer.<br />
&nbsp;&nbsp;&nbsp; It was created by Eratosthenes, an ancient Greek mathematician.<br />
*/<br />
</span><span class="keyword">function </span><span class="default">eratosthenes</span><span class="keyword">(</span><span class="default">$max</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sieve </span><span class="keyword">= </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, (</span><span class="default">$max</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">), </span><span class="default">false</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">, </span><span class="default">$sieve</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sieve</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$key</span><span class="keyword">*</span><span class="default">$key</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$max</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">+=</span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">, </span><span class="default">$sieve</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$sieve</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$sieve</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="73554"></a>
 <div class="note">
  <strong>aflavio at gmail dot com</strong><br />
  <a href="#73554">28-Feb-2007 11:29</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
/**<br />
&nbsp;&nbsp;&nbsp; * Remove a value from a array<br />
&nbsp;&nbsp;&nbsp; * @param string $val<br />
&nbsp;&nbsp;&nbsp; * @param array $arr<br />
&nbsp;&nbsp;&nbsp; * @return array $array_remval<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; function array_remval($val, &amp;$arr)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_remval = $arr;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($x=0;$x&lt;count($array_remval)-1;$x++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i=array_search($val,$array_remval);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($i===false)return false;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_remval=array_merge(array_slice($array_remval, 0,$i), array_slice($array_remval, $i+1));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $array_remval;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
$stack = array("orange", "banana", "apple", "raspberry", "apple");<br />
<br />
output $stack = array("orange", "banana", "raspberry");</span>
</code></div>
  </div>
 </div>
 <a name="73529"></a>
 <div class="note">
  <strong>rune at zedeler dot dk</strong><br />
  <a href="#73529">27-Feb-2007 08:42</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Notice that keys are considered equal if they are "=="-equal. That is:<br />
<br />
&lt;?<br />
$a = array();<br />
$a[1] = 'this is the first value';<br />
$a[true] = 'this value overrides the first value';<br />
$a['1'] = 'so does this one';<br />
?&gt;</span>
</code></div>
  </div>
 </div>
 <a name="72388"></a>
 <div class="note">
  <strong>Mark Lindeman</strong><br />
  <a href="#72388">17-Jan-2007 02:10</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Very simple solution for changing the key of an associative array, of course it will fail in a lot of scenarios, but will do the trick in simple arrays:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">replace_key</span><span class="keyword">(&amp;</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$from_key</span><span class="keyword">, </span><span class="default">$to_key</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">':"'</span><span class="keyword">.</span><span class="default">$from_key</span><span class="keyword">.</span><span class="string">'";'</span><span class="keyword">, </span><span class="string">':"'</span><span class="keyword">.</span><span class="default">$to_key</span><span class="keyword">.</span><span class="string">'";'</span><span class="keyword">,</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)));<br />
}<br />
<br />
</span><span class="default">$array </span><span class="keyword">=array(</span><span class="string">"a"</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">, </span><span class="string">"B"</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">replace_key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">"B"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; 3<br />
)</span>
</code></div>
  </div>
 </div>
 <a name="72006"></a>
 <div class="note">
  <strong>php_spam {at] erif dot org</strong><br />
  <a href="#72006">28-Dec-2006 10:52</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
public domain, yadda yadda. :)<br />
<br />
This function takes a flatfile-like array (like the results of a joined query) and normalizes it based on whichever parameters you like.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">hashByFields</span><span class="keyword">(</span><span class="default">$things</span><span class="keyword">,</span><span class="default">$fields</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$fields</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$things </span><span class="keyword">as </span><span class="default">$thing</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$fwibble </span><span class="keyword">=&amp; </span><span class="default">$retval</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; for (</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$count</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">$thing</span><span class="keyword">[</span><span class="default">$fields</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$j </span><span class="keyword">== </span><span class="default">$count </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fwibble</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">] = </span><span class="default">$thing</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else if (!isset(</span><span class="default">$fwibble</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fwibble</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">] = Array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fwibble </span><span class="keyword">=&amp; </span><span class="default">$fwibble</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$retval</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="71426"></a>
 <div class="note">
  <strong>simone dot carletti at unimc dot it</strong><br />
  <a href="#71426">28-Nov-2006 07:09</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Ever wanted to obtain a subset of an associative array from a list of parameters (stored into a non-associative array)? <br />
Give this a try:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$params </span><span class="keyword">= array(</span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="string">"Simone"</span><span class="keyword">, </span><span class="string">"gender" </span><span class="keyword">=&gt; </span><span class="string">"M"</span><span class="keyword">, </span><span class="string">"city" </span><span class="keyword">=&gt; </span><span class="string">"Macerata"</span><span class="keyword">, </span><span class="string">"phone" </span><span class="keyword">=&gt; </span><span class="default">123</span><span class="keyword">);<br />
</span><span class="default">$fields </span><span class="keyword">= array(</span><span class="string">"name"</span><span class="keyword">, </span><span class="string">"city"</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fields</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">subArr</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">, </span><span class="default">$fields</span><span class="keyword">));<br />
<br />
function </span><span class="default">subArr</span><span class="keyword">(</span><span class="default">$assocArrHaystack</span><span class="keyword">, </span><span class="default">$arrFields</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arrSub </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$assocArrHaystack </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$arrFields</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrSub</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$arrSub</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
And the output is:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [name] =&gt; Simone<br />
&nbsp;&nbsp;&nbsp; [gender] =&gt; M<br />
&nbsp;&nbsp;&nbsp; [city] =&gt; Macerata<br />
&nbsp;&nbsp;&nbsp; [phone] =&gt; 123<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; name<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; city<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [name] =&gt; Simone<br />
&nbsp;&nbsp;&nbsp; [city] =&gt; Macerata<br />
)<br />
<br />
Enjoy!<br />
<br />
Simone</span>
</code></div>
  </div>
 </div>
 <a name="71119"></a>
 <div class="note">
  <strong>elkabong at samsalisbury dot co dot uk</strong><br />
  <a href="#71119">13-Nov-2006 03:43</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
An improvement to the array_deep_copy function I posted ages ago which takes a 'snapshot' of an array, making copies of all actual values referenced... Now it is possible to prevent it traversing the tree forever when an array references itself. You can set the default $maxdepth to anything you like, you should never call this function with the $depth specified!<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/* Make a complete deep copy of an array replacing <br />
references with deep copies until a certain depth is reached<br />
($maxdepth) whereupon references are copied as-is...&nbsp; */<br />
</span><span class="keyword">function </span><span class="default">array_deep_copy </span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, &amp;</span><span class="default">$copy</span><span class="keyword">, </span><span class="default">$maxdepth</span><span class="keyword">=</span><span class="default">50</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$depth </span><span class="keyword">&gt; </span><span class="default">$maxdepth</span><span class="keyword">) { </span><span class="default">$copy </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">; return; }<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$copy</span><span class="keyword">)) </span><span class="default">$copy </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; &amp;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_deep_copy</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">,</span><span class="default">$copy</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">],</span><span class="default">$maxdepth</span><span class="keyword">,++</span><span class="default">$depth</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$copy</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment"># call it like this:<br />
<br />
</span><span class="default">array_deep_copy</span><span class="keyword">(</span><span class="default">$array_to_be_copied</span><span class="keyword">,</span><span class="default">$deep_copy_of_array</span><span class="keyword">,</span><span class="default">$maxdepth</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Hope someone finds it useful!</span>
</code></div>
  </div>
 </div>
 <a name="69247"></a>
 <div class="note">
  <strong>ob at babcom dot biz</strong><br />
  <a href="#69247">28-Aug-2006 08:18</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Regarding my own posting 2 postings down about the function ArrayDepth() to find the maximum depth of a multidimensional array:<br />
<br />
A number of functions for counting array dimensions have been posted. And I tried using them. Yet, if at all they only return the depth of the first branch of the array. They can not handle arrays where a later path holds a more dimension than the first.<br />
<br />
My version will check all paths down the array and return the maximum depth. That's why I posted it.</span>
</code></div>
  </div>
 </div>
 <a name="69240"></a>
 <div class="note">
  <strong>ob at babcom dot biz</strong><br />
  <a href="#69240">28-Aug-2006 05:56</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Here are two functions Array2String() and String2Array() based on functions posted below by daenders AT yahoo DOT com.<br />
<br />
An improvement handling NULL values correctly was posted by designatevoid at gmail dot com.<br />
<br />
My version also solves the NULL-value-problem plus keeps support of multidimensional arrays.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// convert a multidimensional array to url save and encoded string<br />
// usage: string Array2String( array Array )<br />
<br />
</span><span class="keyword">function </span><span class="default">Array2String</span><span class="keyword">(</span><span class="default">$Array</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$Return</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$NullValue</span><span class="keyword">=</span><span class="string">"^^^"</span><span class="keyword">;<br />
&nbsp; foreach (</span><span class="default">$Array </span><span class="keyword">as </span><span class="default">$Key </span><span class="keyword">=&gt; </span><span class="default">$Value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ReturnValue</span><span class="keyword">=</span><span class="string">'^^array^'</span><span class="keyword">.</span><span class="default">Array2String</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ReturnValue</span><span class="keyword">=(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)?</span><span class="default">$Value</span><span class="keyword">:</span><span class="default">$NullValue</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$Return</span><span class="keyword">.=</span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="default">$Key</span><span class="keyword">)) . </span><span class="string">'|' </span><span class="keyword">. </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="default">$ReturnValue</span><span class="keyword">)).</span><span class="string">'||'</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$Return</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">2</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="comment">// convert a string generated with Array2String() back to the original (multidimensional) array<br />
// usage: array String2Array ( string String)<br />
<br />
</span><span class="keyword">function </span><span class="default">String2Array</span><span class="keyword">(</span><span class="default">$String</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$Return</span><span class="keyword">=array();<br />
&nbsp; </span><span class="default">$String</span><span class="keyword">=</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$String</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$TempArray</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'||'</span><span class="keyword">,</span><span class="default">$String</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$NullValue</span><span class="keyword">=</span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="string">"^^^"</span><span class="keyword">));<br />
&nbsp; foreach (</span><span class="default">$TempArray </span><span class="keyword">as </span><span class="default">$TempValue</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; list(</span><span class="default">$Key</span><span class="keyword">,</span><span class="default">$Value</span><span class="keyword">)=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">,</span><span class="default">$TempValue</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$DecodedKey</span><span class="keyword">=</span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$Key</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$Value</span><span class="keyword">!=</span><span class="default">$NullValue</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ReturnValue</span><span class="keyword">=</span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ReturnValue</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">)==</span><span class="string">'^^array^'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ReturnValue</span><span class="keyword">=</span><span class="default">String2Array</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ReturnValue</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$Return</span><span class="keyword">[</span><span class="default">$DecodedKey</span><span class="keyword">]=</span><span class="default">$ReturnValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$Return</span><span class="keyword">[</span><span class="default">$DecodedKey</span><span class="keyword">]=</span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$Return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="69237"></a>
 <div class="note">
  <strong>ob at babcom dot biz</strong><br />
  <a href="#69237">28-Aug-2006 04:23</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Here is a function to find out the maximum depth of a multidimensional array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// return depth of given array<br />
// if Array is a string ArrayDepth() will return 0<br />
// usage: int ArrayDepth(array Array)<br />
<br />
</span><span class="keyword">function </span><span class="default">ArrayDepth</span><span class="keyword">(</span><span class="default">$Array</span><span class="keyword">,</span><span class="default">$DepthCount</span><span class="keyword">=-</span><span class="default">1</span><span class="keyword">,</span><span class="default">$DepthArray</span><span class="keyword">=array()) {<br />
&nbsp; </span><span class="default">$DepthCount</span><span class="keyword">++;<br />
&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$Array</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$Array </span><span class="keyword">as </span><span class="default">$Key </span><span class="keyword">=&gt; </span><span class="default">$Value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$DepthArray</span><span class="keyword">[]=</span><span class="default">ArrayDepth</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">,</span><span class="default">$DepthCount</span><span class="keyword">);<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$DepthCount</span><span class="keyword">;<br />
&nbsp; foreach(</span><span class="default">$DepthArray </span><span class="keyword">as </span><span class="default">$Value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$Depth</span><span class="keyword">=</span><span class="default">$Value</span><span class="keyword">&gt;</span><span class="default">$Depth</span><span class="keyword">?</span><span class="default">$Value</span><span class="keyword">:</span><span class="default">$Depth</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">$Depth</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="69235"></a>
 <div class="note">
  <strong>ob at babcom dot biz</strong><br />
  <a href="#69235">28-Aug-2006 04:18</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Regarding the function of spam at madhermit dot net from January 9th 2006:<br />
<br />
That function only preserves the deepest keys and values.<br />
If you try to flatten an array with that function where the deepest instance of keys might be the same where as keys in the "key-path" are different, values will be overwritten.<br />
<br />
So here is a function that preserves the whole key-path and the keys of the flattened array will be string keys consisting of the key-path separated by $Separator.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// flatten multidimensional array to one dimension<br />
// preserves keys by generating a key for the flattened array which consists of the <br />
// key-path of the multidimensional array separated by $Separator<br />
// usage: array ArrayFlatten( array Array [, string Separator] )<br />
<br />
</span><span class="keyword">function </span><span class="default">ArrayFlatten</span><span class="keyword">(</span><span class="default">$Array</span><span class="keyword">,</span><span class="default">$Separator</span><span class="keyword">=</span><span class="string">"_"</span><span class="keyword">,</span><span class="default">$FlattenedKey</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$FlattenedArray</span><span class="keyword">=Array();<br />
&nbsp; foreach(</span><span class="default">$Array </span><span class="keyword">as </span><span class="default">$Key </span><span class="keyword">=&gt; </span><span class="default">$Value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_Array</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$FlattenedArray</span><span class="keyword">=</span><span class="default">Array_merge</span><span class="keyword">(</span><span class="default">$FlattenedArray</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">ArrayFlatten</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">,</span><span class="default">$Separator</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$FlattenedKey</span><span class="keyword">)&gt;</span><span class="default">0<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">?</span><span class="default">$FlattenedKey</span><span class="keyword">.</span><span class="default">$Separator<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">:</span><span class="string">""</span><span class="keyword">).</span><span class="default">$Key</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$FlattenedArray</span><span class="keyword">[</span><span class="default">$FlattenedKey</span><span class="keyword">.</span><span class="default">$Separator</span><span class="keyword">.</span><span class="default">$Key</span><span class="keyword">]=</span><span class="default">$Value</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$FlattenedArray</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="68925"></a>
 <div class="note">
  <strong>sergio at {NO_SPAM_PLEASE]inservibile dot org</strong><br />
  <a href="#68925">16-Aug-2006 05:17</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
In a pratical problem, I was involved in a system of queries giving the behaviour of all combinations of some parameters. How to write those queries?<br />
The problem was to generate automatically every possible combination of those parameters. I didn't find a function and I wrote it.<br />
(Naturally, a different way could be to build a binary sequence, but I find this function more compact and useful).<br />
So, consider an array of objects and suppose to need all possibile combinations of those objects. Here is the function, that could be useful for some folk.<br />
Enjoy.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">combinations</span><span class="keyword">(</span><span class="default">$elements</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$elements</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; I want to generate an array of combinations, i.e. an array whose elements are arrays<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; composed by the elements of the starting object, combined in all possible ways.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; The empty array must be an element of the target array.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$combinations</span><span class="keyword">=array(array()); </span><span class="comment"># don't forget the empty arrangement!<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /*<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Built the target array, the algorithm is to repeat the operations below for each object of the starting array:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; - take the object from the starting array;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; - generate all arrays given by the target array elements merged with the current object;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; - add every new combination to the target array (the array of arrays);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; - add the current object (as a vector) to the target array, as a combination of one element.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$elements </span><span class="keyword">as </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_combinations</span><span class="keyword">=array(); </span><span class="comment"># temporary array, see below<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$combinations </span><span class="keyword">as </span><span class="default">$combination</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_combination</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$combination</span><span class="keyword">,(array)</span><span class="default">$element</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># I cannot merge directly with the main array ($combinations) because I'm in the foreach cycle<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # I use a temporary array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$new_combinations</span><span class="keyword">,</span><span class="default">$new_combination</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$combinations</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$combinations</span><span class="keyword">,</span><span class="default">$new_combinations</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$combinations</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
To test the function:<br />
<br />
<span class="default">&lt;?php<br />
$elements</span><span class="keyword">=array(</span><span class="string">'bitter'</span><span class="keyword">,</span><span class="string">'sour'</span><span class="keyword">,</span><span class="string">'salty'</span><span class="keyword">,</span><span class="string">'sweet'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">combinations</span><span class="keyword">(</span><span class="default">$elements</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
The exemple was suggested in 6th century BC.<br />
See why on: <a href="http://en.wikipedia.org/wiki/Combinatorics#Overview_and_history" target="_blank">http://en.wikipedia.org/wiki/Combinatorics#Overview_and_history</a></span>
</code></div>
  </div>
 </div>
 <a name="68280"></a>
 <div class="note">
  <strong>za at byza dot it</strong><br />
  <a href="#68280">20-Jul-2006 08:52</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Updated functions for moving element between associative arrays using a numeric index.<br />
<br />
Sample:<br />
$a=array("04"=&gt;"alpha",4=&gt;"bravo","c"=&gt;"charlie","d"=&gt;"delta");<br />
$b=array_move($a,4,2);<br />
<br />
Move element "bravo" after "delta" keeping keys.<br />
Old function probably goes wrong moving "alpha": caused by array_search that match numeric index 4 with "04" (string).<br />
<br />
Follow:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// array functions - 20/07/2006 12.28<br />
<br />
</span><span class="keyword">if(!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">"ARRAY_FUNCS"</span><span class="keyword">)) {&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Swap 2 elements in array preserving keys. <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_swap</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$key1</span><span class="keyword">,</span><span class="default">$key2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v1</span><span class="keyword">=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v2</span><span class="keyword">=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">===</span><span class="default">$key1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$key2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v</span><span class="keyword">=</span><span class="default">$v2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else if(</span><span class="default">$i</span><span class="keyword">===</span><span class="default">$key2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$key1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v</span><span class="keyword">=</span><span class="default">$v1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//&nbsp; Get a key position in array<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_kpos</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$key</span><span class="keyword">===</span><span class="default">$i</span><span class="keyword">) return </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Return key by position<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_kbypos</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$pos</span><span class="keyword">==</span><span class="default">$x</span><span class="keyword">++) return </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Move an element inside an array preserving keys <br />
&nbsp;&nbsp;&nbsp; // $relpos should be like -1, +2... <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_move</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$relpos</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">$relpos</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$from</span><span class="keyword">=</span><span class="default">array_kpos</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$from</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$to</span><span class="keyword">=</span><span class="default">$from</span><span class="keyword">+</span><span class="default">$relpos</span><span class="keyword">+(</span><span class="default">$relpos</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">?</span><span class="default">1</span><span class="keyword">:</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$len</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$to</span><span class="keyword">&gt;=</span><span class="default">$len</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$to</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">) </span><span class="default">$to</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new</span><span class="keyword">=array();&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as&nbsp; </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$x</span><span class="keyword">++==</span><span class="default">$to</span><span class="keyword">) </span><span class="default">$new</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">!==</span><span class="default">$key</span><span class="keyword">) </span><span class="default">$new</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">=</span><span class="default">$new</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">"ARRAY_FUNCS"</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="68255"></a>
 <div class="note">
  <strong>g8z at yahoo dot com</strong><br />
  <a href="#68255">19-Jul-2006 01:42</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
filter_by_occurrence scans an array, and depending on the $exclusive parameter, includes or excludes elements occuring at least $min_occurences times, and at most $max_occurances times.<br />
<br />
parameters:<br />
<br />
$data_set = the array to work on<br />
$min_occurrences = the minimum number of occurrences<br />
$max_occurrences = the maximum number of occurrences (zero for unlimited)<br />
$exclusive = if true, will return only results that do not occur within the specified bounds<br />
<br />
Courtesy of the $5 Script Achive: <a href="http://www.tufat.com" target="_blank">http://www.tufat.com</a><br />
**/<br />
<br />
</span><span class="keyword">function </span><span class="default">filter_by_occurrence </span><span class="keyword">(</span><span class="default">$data_set</span><span class="keyword">, </span><span class="default">$min_occurrences</span><span class="keyword">, </span><span class="default">$max_occurrences </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$exclusive </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$results </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// iterate through unique elements<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$data_set</span><span class="keyword">) as </span><span class="default">$value</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// count how many times element is in the array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$data_set </span><span class="keyword">as </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$element </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// check if meets min_occurences<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$is_in_range </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$count </span><span class="keyword">&gt;= </span><span class="default">$min_occurrences</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// check if meets max_occurrences (unless max_occurences is 0)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if ( </span><span class="default">$count </span><span class="keyword">&lt;= </span><span class="default">$max_occurrences </span><span class="keyword">|| </span><span class="default">$max_occurrences </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$is_in_range </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// add item to array if appropriate<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$is_in_range </span><span class="keyword">&amp;&amp; !</span><span class="default">$exclusive</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$is_in_range </span><span class="keyword">&amp;&amp; </span><span class="default">$exclusive</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// return results<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$results</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// EXAMPLE:<br />
<br />
</span><span class="default">$test_data </span><span class="keyword">= array(</span><span class="string">'pizza'</span><span class="keyword">, </span><span class="string">'ham'</span><span class="keyword">, </span><span class="string">'pizza'</span><span class="keyword">, </span><span class="string">'pizza'</span><span class="keyword">, </span><span class="string">'ham'</span><span class="keyword">, </span><span class="string">'fish'</span><span class="keyword">, </span><span class="string">'fish'</span><span class="keyword">, </span><span class="string">'fish'</span><span class="keyword">, </span><span class="string">'fish'</span><span class="keyword">, </span><span class="string">'dinosaur'</span><span class="keyword">);<br />
<br />
foreach (</span><span class="default">filter_by_occurrence</span><span class="keyword">( </span><span class="default">$test_data</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">false </span><span class="keyword">) as </span><span class="default">$value</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$value </span><span class="keyword">. </span><span class="string">' occurs at least 3 times. &lt;br /&gt;'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="68039"></a>
 <div class="note">
  <strong>nick</strong><br />
  <a href="#68039">11-Jul-2006 05:46</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
This little function will move an array element up or down. Unlike the similar function in a previous comment this will work for associative arrays too. <br />
<br />
Because it uses current to traverse the array it will fail if a value is false (or 0). It could probably be rewritten to use each() but I couldn't work it out.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_move_element</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$direction </span><span class="keyword">= </span><span class="string">'up'</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) == </span><span class="default">$value </span><span class="keyword">&amp;&amp; </span><span class="default">$direction </span><span class="keyword">== </span><span class="string">'down'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) == </span><span class="default">$value </span><span class="keyword">&amp;&amp; </span><span class="default">$direction </span><span class="keyword">== </span><span class="string">'up'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$array_value </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this_key </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$array_value </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$direction </span><span class="keyword">== </span><span class="string">'down'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$next_value </span><span class="keyword">= </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)] = </span><span class="default">$next_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$this_key</span><span class="keyword">] = </span><span class="default">$array_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prev_value </span><span class="keyword">= </span><span class="default">prev</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prev_key </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$prev_key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$this_key</span><span class="keyword">] = </span><span class="default">$array_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$prev_key</span><span class="keyword">] = </span><span class="default">$prev_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$this_key</span><span class="keyword">] = </span><span class="default">$array_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="67923"></a>
 <div class="note">
  <strong>kroczu at interia dot pl</strong><br />
  <a href="#67923">06-Jul-2006 06:53</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
&lt;?<br />
//A little function to convert array to simle xml:<br />
<br />
function array_xml($array, $num_prefix = "num_")<br />
{<br />
&nbsp;&nbsp;&nbsp; if(!is_array($array)) // text<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $array;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach($array as $key=&gt;$val) // subnode<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $key = (is_numeric($key)? $num_prefix.$key : $key);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $return.="&lt;".$key."&gt;".array_xml($val, $num_prefix)."&lt;/".$key."&gt;";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return $return;<br />
}<br />
<br />
//example:<br />
<br />
$array[0][0]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1;<br />
$array[0]['test']&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; = "test";<br />
$array['test1']['test2']&nbsp; &nbsp; &nbsp; &nbsp; = "test";<br />
$array['test'][0]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; = "test";<br />
$array['test'][1]['test_x']&nbsp; &nbsp;&nbsp; = $array;<br />
<br />
print_r($array);<br />
<br />
print"&lt;xml&gt;";<br />
<br />
print array_xml($array);<br />
<br />
print"&lt;/xml&gt;";<br />
<br />
/*<br />
<br />
print_r($array) previev:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [test] =&gt; test<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; [test1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [test2] =&gt; test<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; [test] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; test<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [test_x] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [test] =&gt; test<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [test1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [test2] =&gt; test<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [test] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; test<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
<br />
result xml in firefox preview:<br />
<br />
-&lt;xml&gt;<br />
&nbsp;&nbsp;&nbsp; -&nbsp; &nbsp;&nbsp; &lt;num_0&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;num_0&gt;1&lt;/num_0&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;test&gt;test&lt;/test&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/num_0&gt;<br />
&nbsp;&nbsp;&nbsp; -&nbsp; &nbsp; &lt;test1&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;test2&gt;test&lt;/test2&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/test1&gt;<br />
&nbsp;&nbsp;&nbsp; -&nbsp; &nbsp; &lt;test&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;num_0&gt;test&lt;/num_0&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; -&nbsp; &nbsp; &lt;num_1&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; -&nbsp; &nbsp; &lt;test_x&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; -&nbsp; &nbsp; &lt;num_0&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;num_0&gt;1&lt;/num_0&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;test&gt;test&lt;/test&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/num_0&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; -&nbsp; &nbsp; &lt;test1&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;test2&gt;test&lt;/test2&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/test1&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; -&nbsp; &nbsp; &lt;test&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;num_0&gt;test&lt;/num_0&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/test&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/test_x&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/num_1&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/test&gt;<br />
&nbsp;&lt;/xml&gt;<br />
<br />
*/<br />
?&gt;</span>
</code></div>
  </div>
 </div>
 <a name="67273"></a>
 <div class="note">
  <strong>vinaur at gmail dot com</strong><br />
  <a href="#67273">06-Jun-2006 01:36</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Regarding the array to string (parse_line) and string to array (parse_array) functions posted below by Kevin Law.<br />
<br />
The functions will not work correctly if the array being parsed contains values that include commas and possibly parentheses.<br />
<br />
To solve this problem I added urlencode and urldecode functions and the result looks like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">parse_line</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">AS </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="string">"("</span><span class="keyword">. </span><span class="default">parse_line</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) . </span><span class="string">")"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">$line </span><span class="keyword">. </span><span class="string">"," </span><span class="keyword">. </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) . </span><span class="string">":" </span><span class="keyword">. </span><span class="default">$value </span><span class="keyword">. </span><span class="string">""</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$line</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">parse_array</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">){<br />
&nbsp;&nbsp; </span><span class="default">$q_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">, </span><span class="string">":"</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$name </span><span class="keyword">= </span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$q_pos</span><span class="keyword">));<br />
&nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">,</span><span class="default">$q_pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; </span><span class="default">$open_backet_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">, </span><span class="string">"("</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; if(</span><span class="default">$open_backet_pos</span><span class="keyword">===</span><span class="default">false </span><span class="keyword">|| </span><span class="default">$open_backet_pos</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$comma_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; if(</span><span class="default">$comma_pos</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$comma_pos</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">parse_array</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">,</span><span class="default">$comma_pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }else if (</span><span class="default">$open_backet_pos</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$num_backet </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$line_char_array </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; for(</span><span class="default">$index </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$line_char_array</span><span class="keyword">); </span><span class="default">$index</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$line_char_array</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] == </span><span class="string">'('</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$num_backet</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else if (</span><span class="default">$line_char_array</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] == </span><span class="string">')'</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$num_backet</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$num_backet </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$sub_line </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$index</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">parse_array</span><span class="keyword">(</span><span class="default">$sub_line</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">,</span><span class="default">$index</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">)!=</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">parse_array</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">));<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="63598"></a>
 <div class="note">
  <strong>elkabong at samsalisbury dot co dot uk</strong><br />
  <a href="#63598">24-Mar-2006 02:31</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Hello all! I've just been working on a system to automatically manage virtualhosts on an Apache box and I needed to duplicate some multidimensional arrays containing references to other multidimensional array some of which also contained references. These big arrays are defaults which need to be overwritten on a per-virtualhost basis, so copying references into the virtualhost arrays was not an option (as the defults would get corrupted).<br />
<br />
After hours of banging me head on the wall, this is what I've come up with:<br />
<span class="default">&lt;?PHP </span><span class="comment"># Tested on PHP Version 5.0.4<br />
# Recursively set $copy[$x] to the actual values of $array[$x]<br />
</span><span class="keyword">function </span><span class="default">array_deep_copy </span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, &amp;</span><span class="default">$copy</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$copy</span><span class="keyword">)) </span><span class="default">$copy </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_deep_copy</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">,</span><span class="default">$copy</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$copy</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="comment"># To call it do this:<br />
</span><span class="default">$my_lovely_reference_free_array </span><span class="keyword">= array();<br />
</span><span class="default">array_deep_copy</span><span class="keyword">(</span><span class="default">$my_array_full_of_references</span><span class="keyword">, </span><span class="default">$my_lovely_reference_free_array</span><span class="keyword">);<br />
</span><span class="comment"># Now you can modify all of $my_lovely_reference_free_array without<br />
# worrying about $my_array_full_of_references!<br />
</span><span class="default">?&gt;<br />
</span>NOTE: Don't use this on self-referencing arrays! I haven't tried it yet but I'm guessing an infinate loop will occur...<br />
<br />
I hope someone finds this useful, I'm only a beginner so if there's any fatal flaws or improvements please let me know!</span>
</code></div>
  </div>
 </div>
 <a name="63302"></a>
 <div class="note">
  <strong>alessandronunes at gmail dot com</strong><br />
  <a href="#63302">18-Mar-2006 02:06</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
The Ninmja sugestion plus multidiomensional array search (recursive):<br />
<br />
function cleanArray($array) {<br />
&nbsp;&nbsp; foreach ($array as $index =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_array($array[$index])) $array[$index] = cleanArray($array[$index]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (empty($value)) unset($array[$index]);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return $array;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="60332"></a>
 <div class="note">
  <strong>Atomo64</strong><br />
  <a href="#60332">03-Jan-2006 05:14</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Here's a simple way to convert an array to a string and vice-versa.<br />
Note that it does NOT support string keys,<br />
for more information take a look at what it does:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">OptionAsArray<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">make_the_arr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vals</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'&amp;'</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$vals </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$v</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">}==</span><span class="string">'@'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">[]=</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">make_the_arr</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">[]=</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(empty(</span><span class="default">$newValue</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$newValue</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">make_the_value</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">[]=</span><span class="string">'@'</span><span class="keyword">.</span><span class="default">urlencode</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'&amp;'</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">make_the_value</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newValue</span><span class="keyword">[]=</span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(empty(</span><span class="default">$newValue</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$newValue</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="59386"></a>
 <div class="note">
  <strong>jonathan at sharpmedia dot net</strong><br />
  <a href="#59386">05-Dec-2005 06:37</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
/**<br />
&nbsp;* Flattens a multimentional array.<br />
&nbsp;*<br />
&nbsp;* Takes a multi-dimentional array as input and returns a flattened <br />
&nbsp;* array as output. Implemented using a non-recursive algorithm.<br />
&nbsp;* Example:<br />
&nbsp;* &lt;code&gt;<br />
&nbsp;* $in = array('John', 'Jim', array('Jane', 'Jasmine'), 'Jake');<br />
&nbsp;* $out = array_flatten($in);<br />
&nbsp;* // $out = array('John', 'Jim', 'Jane', 'Jasmine', 'Jake');<br />
&nbsp;* &lt;/code&gt;<br />
&nbsp;*<br />
&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; Jonathan Sharp &lt;jonathan@sharpmedia.net&gt;<br />
&nbsp;* @var&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array<br />
&nbsp;* @returns&nbsp; &nbsp; &nbsp; &nbsp; array<br />
&nbsp;*/<br />
function array_flatten($array)<br />
{<br />
&nbsp;&nbsp;&nbsp; while (($v = array_shift($array)) !== null) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (is_array($v)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array = array_merge($v, $array);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $tmp[] = $v;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $tmp;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="58913"></a>
 <div class="note">
  <strong>stalker at ruun dot de</strong><br />
  <a href="#58913">20-Nov-2005 01:15</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
I had some problems while selecting sub-arrays from multi-dimensional arrays (like the SQL-WHERE clause), so i wrote the following function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">selectMultiArray</span><span class="keyword">(</span><span class="default">$__multiarray</span><span class="keyword">,</span><span class="default">$__key</span><span class="keyword">,</span><span class="default">$__value</span><span class="keyword">) {<br />
&nbsp; foreach(</span><span class="default">$__multiarray </span><span class="keyword">as </span><span class="default">$multipart</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$multipart</span><span class="keyword">[</span><span class="default">$__key</span><span class="keyword">] == </span><span class="default">$__value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$__return</span><span class="keyword">[] = </span><span class="default">$multipart</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; if(empty(</span><span class="default">$__return</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$__return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
hope someones finding this helpful. If you have better was for getting to this, please answer.<br />
<br />
greets,<br />
St4Lk3R</span>
</code></div>
  </div>
 </div>
 <a name="57921"></a>
 <div class="note">
  <strong>msajko at gmail dot com</strong><br />
  <a href="#57921">19-Oct-2005 01:25</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
array_to_string and sister function string_to_array with multi dimensional array support.<br />
<br />
// Converts an array to a string that is safe to pass via a URL<br />
function array_to_string($array) {<br />
&nbsp;&nbsp; $retval = '';<br />
&nbsp;&nbsp; $null_value = "^^^";<br />
&nbsp;&nbsp; foreach ($array as $index =&gt; $val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if(gettype($val)=='array') $value='^^array^'.array_to_string($val);&nbsp; &nbsp; else $value=$val;<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (!$value)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $value = $null_value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; $retval .= urlencode(base64_encode($index)) . '|' . urlencode(base64_encode($value)) . '||';<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return urlencode(substr($retval, 0, -2));<br />
}<br />
&nbsp;<br />
// Converts a string created by array_to_string() back into an array.<br />
function string_to_array($string) {<br />
&nbsp;&nbsp; $retval = array();<br />
&nbsp;&nbsp; $string = urldecode($string);<br />
&nbsp;&nbsp; $tmp_array = explode('||', $string);<br />
&nbsp;&nbsp; $null_value = urlencode(base64_encode("^^^"));<br />
&nbsp;&nbsp; foreach ($tmp_array as $tmp_val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; list($index, $value) = explode('|', $tmp_val);<br />
&nbsp;&nbsp; &nbsp; &nbsp; $decoded_index = base64_decode(urldecode($index));<br />
&nbsp;&nbsp; &nbsp; &nbsp; if($value != $null_value){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $val= base64_decode(urldecode($value));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(substr($val,0,8)=='^^array^') $val=string_to_array(substr($val,8));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $retval[$decoded_index]=$val;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $retval[$decoded_index] = NULL;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return $retval;<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="57879"></a>
 <div class="note">
  <strong>phpnet_spam at erif dot org</strong><br />
  <a href="#57879">17-Oct-2005 06:36</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Thought this might save someone a few hours. :)&nbsp; Feedback welcome, of course!&nbsp; Public domain, yadda yadda.<br />
<br />
function assocSort(&amp;$array,$key) {<br />
&nbsp;&nbsp;&nbsp; if (!is_array($array) || count($array) == 0) return true;<br />
&nbsp;&nbsp;&nbsp; $assocSortCompare&nbsp; = '$a = $a["'.$key.'"]; $b = $b["'.$key.'"];';<br />
<br />
&nbsp;&nbsp;&nbsp; if (is_numeric($array[0][$key])) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $assocSortCompare.= ' return ($a == $b) ? 0 : (($a &lt; $b) ? -1 : 1);';<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $assocSortCompare.= ' return strcmp($a,$b);';<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $assocSortCompare = create_function('$a,$b',$assocSortCompare);<br />
&nbsp;&nbsp;&nbsp; return usort($array,$assocSortCompare);<br />
}</span>
</code></div>
  </div>
 </div>
 <a name="57785"></a>
 <div class="note">
  <strong>designatevoid at gmail dot com</strong><br />
  <a href="#57785">13-Oct-2005 06:40</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Here's an improvement to the array_to_string and string_to_array functions posted by daenders AT yahoo DOT com above.<br />
<br />
They now handle NULL values correctly.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Converts an array to a string that is safe to pass via a URL<br />
</span><span class="keyword">function </span><span class="default">array_to_string</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$null_value </span><span class="keyword">= </span><span class="string">"^^^"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$null_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">.= </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">)) . </span><span class="string">'|' </span><span class="keyword">. </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) . </span><span class="string">'||'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$retval</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">));<br />
}<br />
&nbsp; <br />
</span><span class="comment">// Converts a string created by array_to_string() back into an array.<br />
</span><span class="keyword">function </span><span class="default">string_to_array</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmp_array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'||'</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$null_value </span><span class="keyword">= </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="string">"^^^"</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$tmp_array </span><span class="keyword">as </span><span class="default">$tmp_val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; list(</span><span class="default">$index</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">$tmp_val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decoded_index </span><span class="keyword">= </span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value </span><span class="keyword">!= </span><span class="default">$null_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">$decoded_index</span><span class="keyword">] = </span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">$decoded_index</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$retval</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="57627"></a>
 <div class="note">
  <strong>aidan at php dot net</strong><br />
  <a href="#57627">09-Oct-2005 01:32</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
To convert an array to a HTML table, see:<br />
<a href="http://aidanlister.com/repos/v/function.array2table.php" target="_blank">http://aidanlister.com/repos/v/function.array2table.php</a><br />
<br />
PEAR also provides a simular package with many more features,<br />
<a href="http://pear.php.net/package/Var_Dump" target="_blank">http://pear.php.net/package/Var_Dump</a></span>
</code></div>
  </div>
 </div>
 <a name="57222"></a>
 <div class="note">
  <strong>za at lombardiacom dot it</strong><br />
  <a href="#57222">27-Sep-2005 08:01</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Swap 2 elements in array preserving keys. <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_swap</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$key1</span><span class="keyword">,</span><span class="default">$key2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v1</span><span class="keyword">=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v2</span><span class="keyword">=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">$key1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$key2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v</span><span class="keyword">=</span><span class="default">$v2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">$key2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$key1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v</span><span class="keyword">=</span><span class="default">$v1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Move an element inside an array preserving keys.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_move</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$position</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$from</span><span class="keyword">=</span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$to</span><span class="keyword">=</span><span class="default">$from</span><span class="keyword">+</span><span class="default">$position</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tot</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$position</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">) </span><span class="default">$to</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$to</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">) </span><span class="default">$to</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$to</span><span class="keyword">&gt;=</span><span class="default">$tot</span><span class="keyword">) </span><span class="default">$to</span><span class="keyword">=</span><span class="default">$tot</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$n</span><span class="keyword">==</span><span class="default">$to</span><span class="keyword">) </span><span class="default">$out</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$n</span><span class="keyword">++==</span><span class="default">$from</span><span class="keyword">) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="55852"></a>
 <div class="note">
  <strong>Domenic Denicola</strong><br />
  <a href="#55852">15-Aug-2005 11:49</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Another JavaScript conversion, this time to objects instead of arrays. They can be accessed the same way, but are declared much shorter, so it saves some download time for your users:<br />
<br />
&lt;?<br />
function PhpArrayToJsObject($array, $objName)<br />
{<br />
&nbsp;&nbsp;&nbsp; return 'var ' . $objName . ' = ' . PhpArrayToJsObject_Recurse($array) . ";\n";<br />
}<br />
<br />
function PhpArrayToJsObject_Recurse($array)<br />
{<br />
&nbsp;&nbsp;&nbsp; // Base case of recursion: when the passed value is not a PHP array, just output it (in quotes).<br />
&nbsp;&nbsp;&nbsp; if(! is_array($array) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Handle null specially: otherwise it becomes "".<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($array === null)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return 'null';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return '"' . $array . '"';<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; // Open this JS object.<br />
&nbsp;&nbsp;&nbsp; $retVal = "{";<br />
<br />
&nbsp;&nbsp;&nbsp; // Output all key/value pairs as "$key" : $value<br />
&nbsp;&nbsp;&nbsp; // * Output a JS object (using recursion), if $value is a PHP array.<br />
&nbsp;&nbsp;&nbsp; // * Output the value in quotes, if $value is not an array (see above).<br />
&nbsp;&nbsp;&nbsp; $first = true;<br />
&nbsp;&nbsp;&nbsp; foreach($array as $key =&gt; $value)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Add a comma before all but the first pair.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (! $first )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $retVal .= ', ';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $first = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Quote $key if it's a string.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (is_string($key) )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $key = '"' . $key . '"';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $retVal .= $key . ' : ' . PhpArrayToJsObject_Recurse($value);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; // Close and return the JS object.<br />
&nbsp;&nbsp;&nbsp; return $retVal . "}";<br />
}<br />
?&gt;<br />
<br />
Difference from previous function: null values are no longer "" in the object, they are JavaScript null.<br />
<br />
So for example:<br />
<br />
&lt;?<br />
$theArray = array("A" =&gt; array("a", "b", "c" =&gt; array("x")), "B" =&gt; "y");<br />
echo PhpArrayToJsObject($theArray, "myArray");<br />
?&gt;<br />
<br />
Gives:<br />
<br />
var myArray = {"A" : {0 : "a", 1 : "b", "c" : {0 : "x"}}, "B" : "y"};<br />
<br />
You can still access them just like arrays, with myArray["A"][0] or myArray["A"]["c"][0] or whatever. Just shrinks your pages.</span>
</code></div>
  </div>
 </div>
 <a name="55713"></a>
 <div class="note">
  <strong>dieter peeters</strong><br />
  <a href="#55713">11-Aug-2005 04:35</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
in response to: Domenic Denicola<br />
<br />
I reworked your function a bit and thought i just as well could post it.<br />
<br />
Below is the cleaner version, just cut and paste ;) The third parameter is of little use to the coder, unless javascript declaration of variables changes at some point in the future - who knows.<br />
<br />
Only minor point is the added parameter which probably gets copied every recursive call with an empty value, though i don't know the exact ways how php handles recursion internally. Most of the time php is pretty smart when optimizing code and an empty string shouldn't take much memory anyway :)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">phpArrayToJsArray</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$prePend</span><span class="keyword">=</span><span class="string">'var '</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) { </span><span class="comment">// Array recursion<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">.</span><span class="string">' = new Array();'</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">.= </span><span class="default">phpArrayToJsArray</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">.</span><span class="string">'["'</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">'"]'</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } else {&nbsp; </span><span class="comment">// Base case of recursion<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">.</span><span class="string">' = "'</span><span class="keyword">.</span><span class="default">$array</span><span class="keyword">.</span><span class="string">'";'</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$prePend</span><span class="keyword">.</span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="54979"></a>
 <div class="note">
  <strong>michael at imreo com</strong><br />
  <a href="#54979">21-Jul-2005 05:20</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Reply to array_cartesian_product of skopek at mediatac dot com, 13-Oct-2004 12:44:<br />
<br />
Your function does not work in my configuration (WinXP, apache 2.0, php 4.3.11).<br />
This part of code:<br />
...<br />
} else { //if next returns false, then reset and go on with previuos array...<br />
&nbsp; reset($arrays[$j]);<br />
}<br />
...<br />
cause infinite loop.<br />
Replacing to<br />
...<br />
} elseif (isset($arrays[$j])) {<br />
&nbsp; reset($arrays[$j]);<br />
}<br />
...<br />
works good.<br />
<br />
My complete working function (additionaly strings as keys are allowed):<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_cartesian_product</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arrays </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sizeIn </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$size </span><span class="keyword">= </span><span class="default">$sizeIn </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arrays </span><span class="keyword">as </span><span class="default">$array</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$size </span><span class="keyword">= </span><span class="default">$size </span><span class="keyword">* </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$size</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$sizeIn</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">current</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j </span><span class="keyword">= (</span><span class="default">$sizeIn </span><span class="keyword">-</span><span class="default">1</span><span class="keyword">); </span><span class="default">$j </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">next</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif (isset (</span><span class="default">$arrays</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="54601"></a>
 <div class="note">
  <strong>daenders AT yahoo DOT com</strong><br />
  <a href="#54601">08-Jul-2005 01:49</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Several people here have posted functions for converting arrays to strings, but nobody posted a sister function that would convert it back.&nbsp; Also, their data is not URL safe.&nbsp; These functions are URL safe, hide the data by MIME encoding it, and are much shorter.&nbsp; Enjoy.&nbsp; :-)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Converts an array to a string that is safe to pass via a URL<br />
</span><span class="keyword">function </span><span class="default">array_to_string</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">.= </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">)) . </span><span class="string">'|' </span><span class="keyword">. </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) . </span><span class="string">'||'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$retval</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">));<br />
}<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="comment">// Converts a string created by array_to_string() back into an array.<br />
</span><span class="keyword">function </span><span class="default">string_to_array</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmp_array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'||'</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$tmp_array </span><span class="keyword">as </span><span class="default">$tmp_val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; list(</span><span class="default">$index</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">$tmp_val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">))] = </span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">urldecode</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$retval</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Example:<br />
</span><span class="default">$array1 </span><span class="keyword">= array(</span><span class="string">'index1' </span><span class="keyword">=&gt; </span><span class="string">'val1'</span><span class="keyword">, </span><span class="string">'index2' </span><span class="keyword">=&gt; </span><span class="string">'val2'</span><span class="keyword">, </span><span class="string">'index3' </span><span class="keyword">=&gt; </span><span class="string">'val3'</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">); echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="default">array_to_string</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);<br />
echo </span><span class="string">'$string: '</span><span class="keyword">.</span><span class="default">$string</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="default">$array2 </span><span class="keyword">= </span><span class="default">string_to_array</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">); echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="49219"></a>
 <div class="note">
  <strong>m227(a)poczta.onet.pl</strong><br />
  <a href="#49219">20-Jan-2005 08:18</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
How to count dimensions in multi-array? (corrected)<br />
<br />
previous version didn't work when called more than one time.<br />
($dimcount was preserved from previous call)<br />
<br />
This is the way I corrected this:<br />
<br />
function countdim($array)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if (is_array(reset($array)))&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; $return = countdim(reset($array)) + 1;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; $return = 1;<br />
&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $return;<br />
&nbsp; }<br />
<br />
This function will return int number of array dimensions.</span>
</code></div>
  </div>
 </div>
 <div class="foot"><a href="/manual/add-note.php?sect=ref.array&amp;redirect=http://www.php.net/manual/en/ref.array.php"><img src="http://static.php.net/www.php.net/images/notes-add.gif" alt="add a note" width="13" height="13" align="middle" /></a> <small><a href="/manual/add-note.php?sect=ref.array&amp;redirect=http://www.php.net/manual/en/ref.array.php">add a note</a></small></div>
</div><br /><!--UdmComment-->
<div class="manualnavbar manualnavbar_bottom">
 <span class="next">
  <a href="function.array-change-key-case.php">array_change_key_case<img src="http://static.php.net/www.php.net/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a>
 </span>
 <span class="prev">
  <a href="book.array.php"><img src="http://static.php.net/www.php.net/images/caret-l.gif" alt="&lt;" width="11" height="7" />Arrays</a>
 </span>
 <hr />
 <span class="lastupdated">Last updated: Fri, 11 Apr 2008</span>
 <div class="langchooser">
  &nbsp;
 </div>
</div>
<!--/UdmComment-->


 </div>
 <div class="cleaner">&nbsp;</div>
</div>

<div id="footnav">
   <a href="/source.php?url=/manual/en/ref.array.php">show source</a> |
 <a href="/credits.php">credits</a> |
 <a href="/stats/">stats</a> |
 <a href="/sitemap.php">sitemap</a> |
 <a href="/contact.php">contact</a> |
 <a href="/contact.php#ads">advertising</a> |
 <a href="/mirrors.php">mirror sites</a>
</div>

<div id="pagefooter">
 <div id="copyright">
  <a href="/copyright.php">Copyright &copy; 2001-2008 The PHP Group</a><br />
  All rights reserved.
 </div>

 <div id="thismirror">
  <a href="/mirror.php">This mirror</a> generously provided by:
  <a href="http://developer.yahoo.com/">Yahoo! Inc.</a><br />
  Last updated: Wed Apr 16 05:27:53 2008 PDT
 </div>
</div>

</body>
</html>