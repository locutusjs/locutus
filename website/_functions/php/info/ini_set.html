---
warning: 'This file is auto generated by `npm run web:inject`, do not edit by hand'
examples:
  - |-
    ini_set('date.timezone', 'Asia/Hong_Kong');
    ini_set('date.timezone', 'America/Chicago');
returns:
  - "'Asia/Hong_Kong'"
dependencies: []
authors:
  original by:
    - 'Brett Zamir (http://brett-zamir.me)'
notes:
  - This will not set a global_value or access level for the ini item
layout: function
function: ini_set
category: info
language: php
permalink: php/info/ini_set/
redirect_from:
  - /functions/info/ini_set/
  - /functions/ini_set/
---
module.exports = function ini_set (varname, newvalue) {
  //  discuss at: http://locutusjs.io/php/ini_set/
  // original by: Brett Zamir (http://brett-zamir.me)
  //        note: This will not set a global_value or access level for the ini item
  //   example 1: ini_set('date.timezone', 'Asia/Hong_Kong');
  //   example 1: ini_set('date.timezone', 'America/Chicago');
  //   returns 1: 'Asia/Hong_Kong'

  var oldval = ''
  var self = this

  try {
    this.php_js = this.php_js || {}
  } catch (e) {
    this.php_js = {}
  }

  this.php_js.ini = this.php_js.ini || {}
  this.php_js.ini[varname] = this.php_js.ini[varname] || {}

  oldval = this.php_js.ini[varname].local_value

  var _setArr = function (oldval) {
    // Although these are set individually, they are all accumulated
    if (typeof oldval === 'undefined') {
      self.php_js.ini[varname].local_value = []
    }
    self.php_js.ini[varname].local_value.push(newvalue)
  }

  switch (varname) {
    case 'extension':
      if (typeof this.dl === 'function') {
      // This function is only experimental in Locutus
        this.dl(newvalue)
      }
      _setArr(oldval, newvalue)
      break
    default:
      this.php_js.ini[varname].local_value = newvalue
      break
  }

  return oldval
}
