---
warning: 'This file is auto generated by `npm run web:inject`, do not edit by hand'
examples:
  - 'array_reverse( [ ''php'', ''4.0'', [''green'', ''red''] ], true)'
estarget: es5
returns:
  - '{ 2: [''green'', ''red''], 1: ''4.0'', 0: ''php''}'
dependencies: []
authors:
  original by:
    - 'Kevin van Zonneveld (http://kvz.io)'
  improved by:
    - Karol Kowalski
notes: []
type: function
layout: function
title: PHP's array_reverse in JavaScript
function: array_reverse
category: array
language: php
permalink: php/array/array_reverse/
alias:
  - /functions/php/array_reverse/
  - /functions/array/array_reverse/
  - /php/array_reverse/
  - /functions/array_reverse/
---
{% codeblock lang:javascript %}module.exports = function array_reverse (array, preserveKeys) { // eslint-disable-line camelcase
  //  discuss at: http://locutus.io/php/array_reverse/
  // original by: Kevin van Zonneveld (http://kvz.io)
  // improved by: Karol Kowalski
  //   example 1: array_reverse( [ 'php', '4.0', ['green', 'red'] ], true)
  //   returns 1: { 2: ['green', 'red'], 1: '4.0', 0: 'php'}

  var isArray = Object.prototype.toString.call(array) === '[object Array]'
  var tmpArr = preserveKeys ? {} : []
  var key

  if (isArray && !preserveKeys) {
    return array.slice(0).reverse()
  }

  if (preserveKeys) {
    var keys = []
    for (key in array) {
      keys.push(key)
    }

    var i = keys.length
    while (i--) {
      key = keys[i]
      // @todo: don't rely on browsers keeping keys in insertion order
      // it's implementation specific
      // eg. the result will differ from expected in Google Chrome
      tmpArr[key] = array[key]
    }
  } else {
    for (key in array) {
      tmpArr.unshift(array[key])
    }
  }

  return tmpArr
}
{% endcodeblock %}