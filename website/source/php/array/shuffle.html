---
warning: 'This file is auto generated by `npm run web:inject`, do not edit by hand'
examples:
  - |-
    var $data = {5:'a', 2:'3', 3:'c', 4:5, 'q':5}
    ini_set('locutus.sortByReference', true)
    shuffle($data)
    var $result = $data.q
estarget: es5
returns:
  - '5'
dependencies: []
authors:
  original by:
    - 'Jonas Raoni Soares Silva (https://www.jsfromhell.com)'
  improved by:
    - 'Brett Zamir (https://brett-zamir.me)'
  revised by:
    - 'Kevin van Zonneveld (https://kvz.io)'
    - 'Brett Zamir (https://brett-zamir.me)'
notes: []
type: function
layout: function
title: PHP's shuffle in JavaScript
description: >-
  Hereâ€™s what our current JavaScript equivalent to <a
  href="https://php.net/manual/en/function.shuffle.php">PHP's shuffle</a> looks
  like.
function: shuffle
category: array
language: php
permalink: php/array/shuffle/
alias:
  - /functions/php/shuffle/
  - /functions/array/shuffle/
  - /php/shuffle/
  - /functions/shuffle/
---
{% codeblock lang:javascript %}module.exports = function shuffle (inputArr) {
  //  discuss at: https://locutus.io/php/shuffle/
  // original by: Jonas Raoni Soares Silva (https://www.jsfromhell.com)
  //  revised by: Kevin van Zonneveld (https://kvz.io)
  //  revised by: Brett Zamir (https://brett-zamir.me)
  // improved by: Brett Zamir (https://brett-zamir.me)
  //   example 1: var $data = {5:'a', 2:'3', 3:'c', 4:5, 'q':5}
  //   example 1: ini_set('locutus.sortByReference', true)
  //   example 1: shuffle($data)
  //   example 1: var $result = $data.q
  //   returns 1: 5

  var valArr = []
  var k = ''
  var i = 0
  var sortByReference = false
  var populateArr = []

  for (k in inputArr) {
    // Get key and value arrays
    if (inputArr.hasOwnProperty(k)) {
      valArr.push(inputArr[k])
      if (sortByReference) {
        delete inputArr[k]
      }
    }
  }
  valArr.sort(function () {
    return 0.5 - Math.random()
  })

  var iniVal = (typeof require !== 'undefined' ? require('../info/ini_get')('locutus.sortByReference') : undefined) || 'on'
  sortByReference = iniVal === 'on'
  populateArr = sortByReference ? inputArr : populateArr

  for (i = 0; i < valArr.length; i++) {
    // Repopulate the old array
    populateArr[i] = valArr[i]
  }

  return sortByReference || populateArr
}
{% endcodeblock %}