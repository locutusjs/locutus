---
warning: 'This file is auto generated by `npm run web:inject`, do not edit by hand'
examples:
  - 'wordwrap(''Kevin van Zonneveld'', 6, ''|'', true)'
  - 'wordwrap(''The quick brown fox jumped over the lazy dog.'', 20, ''<br />\n'')'
  - >-
    wordwrap('Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
    eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
    veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
    commodo consequat.')
estarget: es5
returns:
  - '''Kevin |van |Zonnev|eld'''
  - '''The quick brown fox <br />\njumped over the lazy<br />\n dog.'''
  - >-
    'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
    \ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
    \nveniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
    \ncommodo consequat.'
dependencies: []
authors:
  original by:
    - 'Jonas Raoni Soares Silva (http://www.jsfromhell.com)'
  improved by:
    - Nick Callen
    - 'Kevin van Zonneveld (http://kvz.io)'
    - Sakimori
  bugfixed by:
    - Michael Grier
    - Feras ALHAEK
  revised by:
    - 'Jonas Raoni Soares Silva (http://www.jsfromhell.com)'
notes:
  - >-
    It would be great if this function could be split up to have

    smaller line lengths, less ternary operators, and more readable variable
    names
type: function
layout: function
title: PHP's wordwrap in JavaScript
function: wordwrap
category: strings
language: php
permalink: php/strings/wordwrap/
alias:
  - /functions/php/wordwrap/
  - /functions/strings/wordwrap/
  - /php/wordwrap/
  - /functions/wordwrap/
---
{% codeblock lang:javascript %}module.exports = function wordwrap (str, intWidth, strBreak, cut) {
  //  discuss at: http://locutus.io/php/wordwrap/
  // original by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)
  // improved by: Nick Callen
  // improved by: Kevin van Zonneveld (http://kvz.io)
  // improved by: Sakimori
  //  revised by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)
  // bugfixed by: Michael Grier
  // bugfixed by: Feras ALHAEK
  //      note 1: It would be great if this function could be split up to have
  //      note 1: smaller line lengths, less ternary operators, and more readable variable names
  //   example 1: wordwrap('Kevin van Zonneveld', 6, '|', true)
  //   returns 1: 'Kevin |van |Zonnev|eld'
  //   example 2: wordwrap('The quick brown fox jumped over the lazy dog.', 20, '<br />\n')
  //   returns 2: 'The quick brown fox <br />\njumped over the lazy<br />\n dog.'
  //   example 3: wordwrap('Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.')
  //   returns 3: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod \ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim \nveniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea \ncommodo consequat.'

  var m = ((arguments.length >= 2) ? arguments[1] : 75)
  var b = ((arguments.length >= 3) ? arguments[2] : '\n')
  var c = ((arguments.length >= 4) ? arguments[3] : false)

  var i, j, l, s, r

  str += ''

  if (m < 1) {
    return str
  }

  for (i = -1, l = (r = str.split(/\r\n|\n|\r/)).length; ++i < l; r[i] += s) {
    // @todo: Split this up over many more lines and more semantic variable names
    // so it becomes readable
    for (s = r[i], r[i] = '';
      s.length > m;
      r[i] += s.slice(0, j) + ((s = s.slice(j)).length ? b : '')) {
      j = c === 2 || (j = s.slice(0, m + 1).match(/\S*(\s)?$/))[1]
        ? m
        : j.input.length - j[0].length || c === true && m ||
          j.input.length + (j = s.slice(m).match(/^\S*/))[0].length
    }
  }

  return r.join('\n')
}
{% endcodeblock %}