---
warning: This file is auto generated by `yarn web:inject`, do not edit by hand
examples:
  - compact(['a', null, 'b', undefined, 'c'])
  - compact([1, 2, 3])
returns:
  - '[''a'', ''b'', ''c'']'
  - '[1, 2, 3]'
dependencies: []
authors:
  original by:
    - Kevin van Zonneveld (https://kvz.io)
notes:
  - Returns a new array with all nil (null/undefined) values removed.
type: function
layout: function
title: Ruby's Array.compact in JavaScript
description: >-
  Here's what our current JavaScript equivalent to <a
  href="https://ruby-doc.org/core-2.2.2/Array.html#method-c-compact">Ruby's
  Array.compact</a> looks like.
function: compact
category: Array
language: ruby
permalink: ruby/Array/compact/
alias:
  - /functions/ruby/compact/
  - /functions/Array/compact/
  - /ruby/compact/
---
{% codeblock lang:javascript %}module.exports = function compact(arr) {
  //  discuss at: https://locutus.io/ruby/Array/compact/
  // original by: Kevin van Zonneveld (https://kvz.io)
  //      note 1: Returns a new array with all nil (null/undefined) values removed.
  //   example 1: compact(['a', null, 'b', undefined, 'c'])
  //   returns 1: ['a', 'b', 'c']
  //   example 2: compact([1, 2, 3])
  //   returns 2: [1, 2, 3]

  if (!Array.isArray(arr)) {
    return []
  }

  return arr.filter(function (item) {
    return item != null
  })
}
{% endcodeblock %}